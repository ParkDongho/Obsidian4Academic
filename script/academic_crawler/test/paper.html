<div id="article">
<div class="section" id="sec1"><div class="header article-hdr"><div class="kicker">
                                SECTION 1</div><h2>Introduction</h2></div><p>Deep neural networks (DNNs) have become the state-of-the-art technique in many classification tasks such as object <a ref-type="bibr" anchor="ref9" id="context_ref_9_1" data-range="ref9">[9]</a> and speech recognition <a ref-type="bibr" anchor="ref14" id="context_ref_14_1" data-range="ref14">[14]</a>. Given their breadth of application and high computational demand, DNNs are an attractive target for fixed-function accelerators <a ref-type="bibr" anchor="ref5" id="context_ref_5_1" data-range="ref5">[5]</a>, <a ref-type="bibr" anchor="ref6" id="context_ref_6_1" data-range="ref6">[6]</a>, <a ref-type="bibr" anchor="ref12" id="context_ref_12_1" data-range="ref12">[12]</a>. With power consumption limiting modern high-performance designs, achieving better energy efficiency is essential <a ref-type="bibr" anchor="ref8" id="context_ref_8_1" data-range="ref8">[8]</a>.</p><p>DNNs comprise a pipeline of <i>layers</i> that primarily compute inner products of <i>activation</i> and <i>weight</i> vectors. A typical layer performs hundreds of inner products, each accepting thousands of activation and weight pairs. DNN hardware typically uses either 16-bit fixed-point <a ref-type="bibr" anchor="ref5" id="context_ref_5_1" data-range="ref5">[5]</a> or quantized 8-bit numbers <a ref-type="bibr" anchor="ref29" id="context_ref_29_1" data-range="ref29">[29]</a> and bit-parallel compute units.</p><p>As <a ref-type="sec" anchor="sec2" class="fulltext-link">Section 2</a> shows, in Deep Convolutional Neural Networks (CNNs) for image classification, no more than 13% of all activation bits are non-zero when represented using a 16-bit fixed-point format. Traditional bit-parallel compute units process all input bits regardless of their value. Recent work on CNN accelerators has proposed how to leverage sparsity for performance. Recent accelerators exploit this characteristic by skipping zero, or near zero valued activations or ineffectual weights <a ref-type="bibr" anchor="ref2" id="context_ref_2_1" data-range="ref2">[2]</a>, <a ref-type="bibr" anchor="ref12" id="context_ref_12_1" data-range="ref12">[12]</a>, <a ref-type="bibr" anchor="ref24" id="context_ref_24_1" data-range="ref24">[24]</a>. Stripes exploits the non-essential bits of an activation by using reduced precision and processing activations bit-serially <a ref-type="bibr" anchor="ref18" id="context_ref_18_1" data-range="ref18">[18]</a>. However, the reduced precision format is determined <i>statically</i> and shared across all concurrent activations, and thus does not exploit the additional zero bits that appear dynamically.</p><p class="has-inline-formula">This work presents <i>Pragmatic</i> (<i>PRA</i>), a CNN accelerator whose goal is to exploit all zero bits of the input activation and to process only the <i>essential</i> (non-zero) bits. The idea behind <i>Pragmatic</i> is to process the activations bit-serially, while compensating for the loss in computation bandwidth by exploiting the abundant parallelism of convolutional layers, which represent 92% of the processing time of modern CNNs <a ref-type="bibr" anchor="ref5" id="context_ref_5_1" data-range="ref5">[5]</a>. However, as <a ref-type="sec" anchor="sec3" class="fulltext-link">Section 3</a> explains, a straight-forward implementation of a zero-bit-skipping processing engine proves impractical as it suffers from unacceptable energy, area, and data access overheads. Specifically, <a ref-type="sec" anchor="sec6b" class="fulltext-link">Section 6.2</a> shows such an implementation requires 1.94<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mo" id="MathJax-Span-3" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1">\times</script></tex-math></inline-formula> the area and 3.37<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-4" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-5"><span class="mo" id="MathJax-Span-6" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2">\times</script></tex-math></inline-formula> the power of the baseline chip, while only increasing performance by 2.59<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-7" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-8"><span class="mo" id="MathJax-Span-9" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3">\times</script></tex-math></inline-formula>.</p><p>To improve performance and energy efficiency over a state-of-the-art bit-parallel accelerator without a disproportionate increase in area and data access demands, <i>PRA</i> combines the following techniques: 1) on-the-fly conversion of activations from a storage representation into an explicit representation of the essential bits only, 2) bit-serial activation/bit-parallel weight processing, 3)judicious SIMD (single instruction multiple data) lane synchronization that i) maintains wide memory accesses, ii) avoids fragmenting and enlarging the on-chip weight and activation memories, and iii) avoids a disproportionate area and complexity overhead, 4) computation re-arrangement to reduce datapath area, and 5) optimized encoding to further reduce the number of 1 bits and to increase performance. Pragmatic combines these techniques and balances their trade-offs to produce a design with high performance and energy efficiency.</p><p class="has-inline-formula">We simulate <i>Pragmatic</i> with modern CNNs for image classification to measure performance and produce a circuit layout with a 65nm technology to estimate power, performance and area. We present multiple design points with different synchronization constraints, flexibility, and data encoding to trade performance for lower area and power. The most power efficient design with optimized encoding yields 4.31<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-10" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-11"><span class="mo" id="MathJax-Span-12" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-4">\times</script></tex-math></inline-formula> speedup on average over the <i>DaDN</i> accelerator. <i>Pragmatic’s</i> average energy efficiency is 1.70<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-13" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-14"><span class="mo" id="MathJax-Span-15" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5">\times</script></tex-math></inline-formula> over <i>DaDN</i> and its area overhead is 1.68<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-16" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-17"><span class="mo" id="MathJax-Span-18" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-6">\times</script></tex-math></inline-formula>.</p><p>The rest of the paper is organized as follows: <a ref-type="sec" anchor="sec2" class="fulltext-link">Section 2</a> motivates <i>Pragmatic</i> in the context of prior work. <a ref-type="sec" anchor="sec3" class="fulltext-link">Section 3</a> describes <i>Pragmatic’s</i> approach with a simplified example. <a ref-type="sec" anchor="sec4" class="fulltext-link">Section 4</a> provides the necessary background. <a ref-type="sec" anchor="sec5" class="fulltext-link">Section 5</a> describes <i>Pragmatic</i> in detail. <a ref-type="sec" anchor="sec6" class="fulltext-link">Section 6</a> presents our methodology and results. <a ref-type="sec" anchor="sec7" class="fulltext-link">Section 7</a> describes related work and <a ref-type="sec" anchor="sec8" class="fulltext-link">Section 8</a> concludes.</p></div>
<div class="section" id="sec2"><div class="header article-hdr"><div class="kicker">
                                SECTION 2</div><h2>Motivation</h2></div><p class="has-inline-formula">Binary multiplication can be broken down into a summation of single bit multiplications (ANDs). For example, <i>a</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-19" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-20"><span class="mo" id="MathJax-Span-21" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-7">\times</script></tex-math></inline-formula><i>w</i> can be calculated as <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-22" style="width: 7.41em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.659em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.453em, 1006.56em, 3.556em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-23"><span class="mstyle" id="MathJax-Span-24"><span class="mrow" id="MathJax-Span-25"><span class="munderover" id="MathJax-Span-26"><span style="display: inline-block; position: relative; width: 1.454em; height: 0px;"><span style="position: absolute; clip: rect(2.905em, 1001.4em, 4.607em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-27" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1001.1em, 4.257em, -999.997em); top: -2.9em; left: 0.153em;"><span class="texatom" id="MathJax-Span-28"><span class="mrow" id="MathJax-Span-29"><span class="mi" id="MathJax-Span-30" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-31" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-32" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.456em, 1000.35em, 4.307em, -999.997em); top: -5.203em; left: 0.553em;"><span class="texatom" id="MathJax-Span-33"><span class="mrow" id="MathJax-Span-34"><span class="mi" id="MathJax-Span-35" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-36" style="padding-left: 0.153em;"><span style="display: inline-block; position: relative; width: 0.903em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-37" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.553em;"><span class="texatom" id="MathJax-Span-38"><span class="mrow" id="MathJax-Span-39"><span class="mi" id="MathJax-Span-40" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-41" style="font-family: MathJax_Main; padding-left: 0.203em;">⋅</span><span class="mo" id="MathJax-Span-42" style="font-family: MathJax_Main; padding-left: 0.203em;">(</span><span class="mi" id="MathJax-Span-43" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-44" style="font-family: MathJax_Main; padding-left: 0.303em;">≪</span><span class="mi" id="MathJax-Span-45" style="font-family: MathJax_Math-italic; padding-left: 0.303em;">i</span><span class="mo" id="MathJax-Span-46" style="font-family: MathJax_Main;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.386em; border-left: 0px solid; width: 0px; height: 3.225em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-8">\displaystyle \sum_{i=0}^{p}a_{j}\cdot(w\ll i)</script></tex-math></inline-formula>, where <i>a<sub>j</sub></i> is the <i>i-th</i> bit of <i>a</i>. The multiplier computes <i>p terms</i>, each a product of the shifted operand <i>w</i>, and a bit of <i>a</i>, and adds them to produce the final result. The terms and their sum can be calculated concurrently to reduce latency <a ref-type="bibr" anchor="ref28" id="context_ref_28_2" data-range="ref28">[28]</a>, or over multiple cycles to reuse hardware and reduce area <a ref-type="bibr" anchor="ref30" id="context_ref_30_2" data-range="ref30">[30]</a>. In either case, zero bits in <i>a</i> result in ineffectual computation.</p><p>We will categorize these zero bits as either statically or dynamically ineffectual. <i>Statically</i> ineffectual bits are those that can be determined to be ineffectual <i>a priori</i>. They result from using a data format with more precision than is necessary. In this case, 1’s may also be statically ineffectual. Hardware typically uses fixed bit widths for generality resulting in such ineffectual bits. In contrast, <i>dynamically</i> ineffectual bits are those that cannot be known in advance.
</p><div class="figure figure-full" id="fig1"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber1-p382-albericio-large.gif" data-fig-id="fig1"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber1-p382-albericio-small.gif" loading="lazy" alt="Figure 1: - Sources of ineffectual computation with conventional positional representation and fixed-length hardware precision."><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 1: </b><fig><p>Sources of ineffectual computation with conventional positional representation and fixed-length hardware precision.</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div>
<div class="figure figure-full table" id="table1"><div class="figcaption"><b class="title">Table I </b>Average Fraction of Non-Zero Bits Per Activation For Two Fixed-Length Representations: 16-Bit Fixed-Point, and 8-Bit Quantized. All: Over All Activations. Nz: Over Non-Zero Activations Only.</div><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t1-p382-albericio-large.gif"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t1-p382-albericio-small.gif" loading="lazy" alt="Table I- Average Fraction of Non-Zero Bits Per Activation For Two Fixed-Length Representations: 16-Bit Fixed-Point, and 8-Bit Quantized. All: Over All Activations. Nz: Over Non-Zero Activations Only."><div class="zoom" title="View Larger Image"></div></a></div></div><p></p><p class="has-inline-formula"><a ref-type="fig" anchor="fig1" class="fulltext-link">Figure 1</a> shows an example illustrating these categories of ineffectual bits using an 8-bit unsigned fixed-point number with 4 fractional and 4 integer bits. Assume that is known ahead of time that the data only needs 5 bits, then there are 3 statically ineffectual bits as a prefix and suffix to the required precision. While 10.10<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-47" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-48"><span class="msubsup" id="MathJax-Span-49"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-50" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-51"><span class="mrow" id="MathJax-Span-52"><span class="mo" id="MathJax-Span-53" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-54" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-55" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-9">1_{(2)}</script></tex-math></inline-formula> requires just five bits, two dynamically generated zero bits appear at positions 0 and -2. In total, five ineffectual bits will be processed generating five ineffectual terms.</p><p>The non-zero bits can instead be encoded with their corresponding exponents (1,-1,-3). While such a representation may require more bits and thus be undesirable for storage, dynamically generating them and only computing the non-zero terms may benefit performance and energy efficiency. This work shows that with the multitude of zero bits and data reuse in CNNs, there is significant potential to improve performance while reusing hardware to save area.</p><p>The rest of this section motivates <i>Pragmatic</i> by: 1) measuring the fraction of non-zero bits in the activation stream of modern CNNs, and 2) estimating the performance improvement which may be gained by processing only the non-zero activation bits.</p><div class="section_2" id="sec2a"><h3>2.1 Essential Activation Bit Content</h3><p>16-bit fixed-point is commonly used for DNN hardware implementations <a ref-type="bibr" anchor="ref5" id="context_ref_5_2a" data-range="ref5">[5</a>, <a ref-type="bibr" anchor="ref6" id="context_ref_6_2a" data-range="ref6">6]</a>. Recent work has shown that fewer bits are necessary for CNNs <a ref-type="bibr" anchor="ref17" id="context_ref_17_2a" data-range="ref17">[17]</a> and how to exploit this reduced precision requirements to save bandwidth <a ref-type="bibr" anchor="ref16" id="context_ref_16_2a" data-range="ref16">[16]</a> and improve performance <a ref-type="bibr" anchor="ref18" id="context_ref_18_2a" data-range="ref18">[18]</a>. Recently, it has also been shown that 8 bits of precision are sufficient when linear quantization is used for many CNNs <a ref-type="bibr" anchor="ref1" id="context_ref_1_2a" data-range="ref1">[1</a>, <a ref-type="bibr" anchor="ref29" id="context_ref_29_2a" data-range="ref29">29]</a>. These techniques exploit statically ineffectual bits.
</p><div class="figure figure-full" id="fig2"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber2-p382-albericio-large.gif" data-fig-id="fig2"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber2-p382-albericio-small.gif" loading="lazy" alt="Figure 2: - Average distribution of activations for the networks studied in 16 bit fixed-point (14 integer and 2 fractional bits). Center bin is just zero valued activations."><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 2: </b><fig><p>Average distribution of activations for the networks studied in 16 bit fixed-point (14 integer and 2 fractional bits). Center bin is just zero valued activations.</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div><p></p><p><a ref-type="table" anchor="table1" class="fulltext-link">Table 1</a> reports the <i>non-zero bit content</i> of all activations of modern CNNs for two commonly used representations: 16-bit fixed-point and 8-bit quantized activations <a ref-type="bibr" anchor="ref29" id="context_ref_29_2a" data-range="ref29">[29]</a>. <a ref-type="fig" anchor="fig2" class="fulltext-link">Figure 2</a> shows the distribution of activation values. From these measurements we can infer that the large percentage of zero bits are due to two factors: 1) Activations have a normal distribution of positive values. Most activations are close to zero, relative to the range of the representation, thus their most significant bits are zero. 2) The rectified linear (ReLU) activation function which is used in most modern CNNs converts negative activations to 0, resulting in many zero activations and no negative activations, except in the inputs to the first layer. Weights exhibit the first property, but not the second, and exploiting their bit content is left for future work.</p><p>Skipping the computation of zero valued activations is an optimization employed in recently proposed DNN accelerators, both to save power <a ref-type="bibr" anchor="ref6" id="context_ref_6_2a" data-range="ref6">[6]</a>, <a ref-type="bibr" anchor="ref26" id="context_ref_26_2a" data-range="ref26">[26]</a> and processing time <a ref-type="bibr" anchor="ref2" id="context_ref_2_2a" data-range="ref2">[2]</a>, <a ref-type="bibr" anchor="ref12" id="context_ref_12_2a" data-range="ref12">[12]</a>, <a ref-type="bibr" anchor="ref24" id="context_ref_24_2a" data-range="ref24">[24]</a>. These works exploit the presence of dynamic zero bits only for zero valued or near-zero valued activations or weights <a ref-type="bibr" anchor="ref24" id="context_ref_24_2a" data-range="ref24">[24]</a>. <a ref-type="table" anchor="table1" class="fulltext-link">Table 1</a> also shows the percentage of non-zero bits in the non-zero activations only (NZ). Zero bits still make up over 50% of the non-zero activation values in all networks. Therefore, there is still a significant opportunity to exploit the zero bit content of non-zero values.</p><p>In contrast to the techniques discussed, this work targets both statically and dynamically ineffectual bits in the activations. When considering all activations, the non-zero bit content is <i>at most</i> 13% and 38% for the fixed-point and 8-bit quantized representations respectively.</p><p>These results suggest that a significant number of ineffectual terms are processed with conventional fixed-length hardware. <i>Stripes</i> [18 tackles the statically ineffectual bits by computing arbitrary length fixed-point activations serially for improved performance. <i>Pragmatic</i>’<i>s</i> goal is to exploit both static and dynamic zero bits. As the next section will show, Pragmatic has the potential to greatly improve performance even when compared to <i>Stripes</i>.
</p><div class="figure figure-full" id="fig3"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber3-p382-albericio-large.gif" data-fig-id="fig3"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber3-p382-albericio-small.gif" loading="lazy" alt="Figure 3: - Convolutional layer computational demands with a 16-bit fixed-point baseline representation. Lower is better."><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 3: </b><fig><p>Convolutional layer computational demands with a 16-bit fixed-point baseline representation. Lower is better.</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div><p></p></div><div class="section_2" id="sec2b"><h3>2.2 Pragmatic’s Potential</h3><p>To estimate PRA’s potential, this section compares the number of terms that would be processed by various compute engines for the convolutional layers of our target CNNs (see <a ref-type="sec" anchor="sec6a" class="fulltext-link">Section 6.1</a>) for the two aforementioned baseline two’s complement representations.</p><p>The following compute engines are considered: 1) the baseline <i>DaDN</i> with its 16 -bit fixed-point bit-parallel units <a ref-type="bibr" anchor="ref5" id="context_ref_5_2b" data-range="ref5">[5]</a>, 2) ZN, an <i>ideal</i> engine that can skip <i>all</i> zero valued activations, 3) Cnvlutin (<b>CVN</b>) a practical design that can skip most zero value activations <a ref-type="bibr" anchor="ref2" id="context_ref_2_2b" data-range="ref2">[2]</a>, 4) <i>Stripes</i> (<b>STR</b>) a practical design that uses reduced precisions (see <a ref-type="table" anchor="table2" class="fulltext-link">Table 2</a>) <a ref-type="bibr" anchor="ref19" id="context_ref_19_2b" data-range="ref19">[19]</a>, 5) <b><i>PRA</i>-fp16</b> an <i>ideal</i> engine that processes only the essential activation bits in the native 16 -bit fixed-point representation, and 6) <b><i>PRA</i>-red</b>, an <i>ideal</i> engine that processes only the essential activation bits of the <i>reduced precision</i> formats used in <i>STR</i>.</p><p class="has-inline-formula"><a ref-type="fig" anchor="fig3" class="fulltext-link">Figure 3</a> reports the number of terms processed, normalized over <i>DaDN</i>, where each multiplication is accounted for using an equivalent number of terms: 16 for <i>DaDN</i>, ZN, and CVN, <i>p</i> for a layer using a precision of p bits for <i>STR</i>, and the number of essential activation bits for <i>PRA</i>-fp16, and for <i>PRA</i>-red. For example, for <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-56" style="width: 6.659em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.009em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1005.96em, 2.705em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-57"><span class="mi" id="MathJax-Span-58" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-59" style="font-family: MathJax_Main; padding-left: 0.303em;">=</span><span class="msubsup" id="MathJax-Span-60" style="padding-left: 0.303em;"><span style="display: inline-block; position: relative; width: 3.756em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1002.71em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-61" style="font-family: MathJax_Main;">10.001</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 2.805em;"><span class="texatom" id="MathJax-Span-62"><span class="mrow" id="MathJax-Span-63"><span class="mo" id="MathJax-Span-64" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-65" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-66" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-67" style="font-family: MathJax_Main;">,</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-10">n=10.001_{(2)},</script></tex-math></inline-formula> the number of additions counted would be 16 for <i>DaDN</i> and <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-68" style="width: 3.806em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.406em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1003.36em, 2.555em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-69"><span class="mi" id="MathJax-Span-70" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mi" id="MathJax-Span-71" style="font-family: MathJax_Math-italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.203em;"></span></span><span class="mi" id="MathJax-Span-72" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span class="mo" id="MathJax-Span-73" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-74" style="font-family: MathJax_Main; padding-left: 0.153em;">5</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.275em; border-left: 0px solid; width: 0px; height: 1.114em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-11">CVN, 5</script></tex-math></inline-formula> for STR (as it could use a 5 -bit fixed-point representation), and 2 for <i>PRA</i>-fp16 and <i>PRA</i>-red.</p><p class="has-inline-formula">On average, STR reduces the number of terms to 53% compared to DaDN, while skipping just the zero valued activation could reduce them to 39% if <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-75" style="width: 1.854em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.654em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.304em, 1001.65em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-76"><span class="mi" id="MathJax-Span-77" style="font-family: MathJax_Math-italic;">Z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mi" id="MathJax-Span-78" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.892em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-12">Z N</script></tex-math></inline-formula> was practical, and to 63% in practice with CVN. <i>PRA</i>-fp 16 can ideally reduce the number of additions to just 10% on average, while with software provided precisions per layer, <i>PRA</i>-red reduces the number of additions further to 8% on average. The potential savings are robust across all CNNs remaining above 87% with <i>PRA</i>-red.</p><p>In summary, this section showed that only 8% of the computation is strictly necessary for the target networks due to the presence of zero bits in the activations. However, even with reduced precision and dynamic zero value skipping many ineffectual computations remain. Therefore, a more aggressive approach is needed.</p></div></div>
<div class="section" id="sec3"><div class="header article-hdr"><div class="kicker">
                                SECTION 3</div><h2>Pragmatic: A Simplified Example</h2></div><p>This section illustrates the idea behind <i>Pragmatic</i> via a simplified example. For the purposes of this discussion, it suffices to know that a convolutional layer performs inner products where both weights and activations are reused. <a ref-type="sec" anchor="sec4a" class="fulltext-link">Section 4.1</a> describes the relevant computations in more detail.</p><p class="has-inline-formula">The bit-parallel unit of <a ref-type="fig" anchor="fig4" class="fulltext-link">Figure 4a</a> multiplies two activations with their respective weights and via an adder reduces the two products. The unit reads <i>all</i> activation and weight bits, (<i>a<sub>0</sub></i> = 00<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-79" style="width: 3.256em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.905em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1002.9em, 2.705em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-80"><span class="msubsup" id="MathJax-Span-81"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-82" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-83"><span class="mrow" id="MathJax-Span-84"><span class="mo" id="MathJax-Span-85" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-86" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-87" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-88" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-89" style="padding-left: 0.153em;"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-90" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.553em;"><span class="texatom" id="MathJax-Span-91"><span class="mrow" id="MathJax-Span-92"><span class="mn" id="MathJax-Span-93" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-13">1_{(2)},a_{1}</script></tex-math></inline-formula> = 01<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-94" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-95"><span class="msubsup" id="MathJax-Span-96"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-97" style="font-family: MathJax_Main;">0</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-98"><span class="mrow" id="MathJax-Span-99"><span class="mo" id="MathJax-Span-100" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-101" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-102" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-14">0_{(2)}</script></tex-math></inline-formula>) and (<i>w<sub>0</sub></i> =00<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-103" style="width: 3.456em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.106em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1003.11em, 2.705em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-104"><span class="msubsup" id="MathJax-Span-105"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-106" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-107"><span class="mrow" id="MathJax-Span-108"><span class="mo" id="MathJax-Span-109" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-110" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-111" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-112" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-113" style="padding-left: 0.153em;"><span style="display: inline-block; position: relative; width: 1.154em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.7em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-114" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.703em;"><span class="texatom" id="MathJax-Span-115"><span class="mrow" id="MathJax-Span-116"><span class="mn" id="MathJax-Span-117" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-15">1_{(2)},w_{1}</script></tex-math></inline-formula> =11<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-118" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-119"><span class="msubsup" id="MathJax-Span-120"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-121" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-122"><span class="mrow" id="MathJax-Span-123"><span class="mo" id="MathJax-Span-124" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-125" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-126" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-16">1_{(2)}</script></tex-math></inline-formula>) respectively in a single cycle. As a result, the two sources of inefficiency manifest here: Bit 2 of <i>a<sub>0</sub></i> and <i>a<sub>1</sub></i> is statically zero, meaning only 2 bits are required. Even in 2 bits, each activation contains a zero bit that is dynamically generated. As a result, four ineffectual terms are processed when using standard multipliers.</p><p class="has-inline-formula">The hybrid, bit-serial-activation/bit-parallel-weight unit in <a ref-type="fig" anchor="fig4" class="fulltext-link">Figure 4b</a> is representative of <i>STR</i> which tackles statically ineffectual bits. <i>STR</i> performs serial-parallel shift-and-add multiplication, with the shifters merged and placed after the adder tree since all serial inputs are synchronized. Each cycle, the unit processes one bit from each activation and hence it takes three cycles to compute the convolution when the activations are represented using 3 bits each, a slowdown of 3x over the bit-parallel engine. To match the through-put of the bit-parallel engine of <a ref-type="fig" anchor="fig4" class="fulltext-link">Figure 4a</a>, <i>STR</i> takes advantage of weight reuse and processes multiple activations groups in parallel. In this example, six activations (<i>a<sub>0</sub></i> =00<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-17-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-127" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-128"><span class="msubsup" id="MathJax-Span-129"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-130" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-131"><span class="mrow" id="MathJax-Span-132"><span class="mo" id="MathJax-Span-133" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-134" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-135" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-17">1_{(2)}</script></tex-math></inline-formula>, <i>a<sub>1</sub></i> =01<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-18-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-136" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-137"><span class="msubsup" id="MathJax-Span-138"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-139" style="font-family: MathJax_Main;">0</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-140"><span class="mrow" id="MathJax-Span-141"><span class="mo" id="MathJax-Span-142" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-143" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-144" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-18">0_{(2)}</script></tex-math></inline-formula>, <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-145" style="width: 1.404em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.254em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.504em, 1001.25em, 2.505em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-146"><span class="msubsup" id="MathJax-Span-147"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-148" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.553em;"><span class="texatom" id="MathJax-Span-149"><span class="mrow" id="MathJax-Span-150"><span class="mn" id="MathJax-Span-151" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mi" id="MathJax-Span-152" style="font-family: MathJax_Main;">′</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.219em; border-left: 0px solid; width: 0px; height: 0.892em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-19">a_{0}\prime</script></tex-math></inline-formula> = 00<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-153" style="width: 3.806em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.406em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1003.41em, 2.705em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-154"><span class="msubsup" id="MathJax-Span-155"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-156" style="font-family: MathJax_Main;">0</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-157"><span class="mrow" id="MathJax-Span-158"><span class="mo" id="MathJax-Span-159" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-160" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-161" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-162" style="font-family: MathJax_Main;">,</span><span class="mtext" id="MathJax-Span-163" style="font-family: MathJax_Main; padding-left: 0.153em;">&nbsp;</span><span class="msubsup" id="MathJax-Span-164"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-165" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.553em;"><span class="texatom" id="MathJax-Span-166"><span class="mrow" id="MathJax-Span-167"><span class="mn" id="MathJax-Span-168" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mi" id="MathJax-Span-169" style="font-family: MathJax_Main;">′</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-20">0_{(2)},\ a_{1}\prime</script></tex-math></inline-formula> =01<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-170" style="width: 4.107em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.706em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1003.71em, 2.705em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-171"><span class="msubsup" id="MathJax-Span-172"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-173" style="font-family: MathJax_Main;">0</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-174"><span class="mrow" id="MathJax-Span-175"><span class="mo" id="MathJax-Span-176" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-177" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-178" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-179" style="font-family: MathJax_Main;">,</span><span class="mtext" id="MathJax-Span-180" style="font-family: MathJax_Main; padding-left: 0.153em;">&nbsp;</span><span class="msubsup" id="MathJax-Span-181"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-182" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.553em;"><span class="texatom" id="MathJax-Span-183"><span class="mrow" id="MathJax-Span-184"><span class="mn" id="MathJax-Span-185" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mi" id="MathJax-Span-186" style="font-family: MathJax_Main;">′</span><span class="mi" id="MathJax-Span-187" style="font-family: MathJax_Main;">′</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-21">0_{(2)},\ a_{0}\prime\prime</script></tex-math></inline-formula>=01<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-188" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-189"><span class="msubsup" id="MathJax-Span-190"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-191" style="font-family: MathJax_Main;">0</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-192"><span class="mrow" id="MathJax-Span-193"><span class="mo" id="MathJax-Span-194" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-195" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-196" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-22">0_{(2)}</script></tex-math></inline-formula>, <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-197" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.504em, 1001.5em, 2.505em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-198"><span class="msubsup" id="MathJax-Span-199"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-200" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.553em;"><span class="texatom" id="MathJax-Span-201"><span class="mrow" id="MathJax-Span-202"><span class="mn" id="MathJax-Span-203" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mi" id="MathJax-Span-204" style="font-family: MathJax_Main;">′</span><span class="mi" id="MathJax-Span-205" style="font-family: MathJax_Main;">′</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.219em; border-left: 0px solid; width: 0px; height: 0.892em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-23">a_{1}\prime\prime</script></tex-math></inline-formula>=00<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-24-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-206" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-207"><span class="msubsup" id="MathJax-Span-208"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-209" style="font-family: MathJax_Main;">0</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-210"><span class="mrow" id="MathJax-Span-211"><span class="mo" id="MathJax-Span-212" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-213" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-214" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-24">0_{(2)}</script></tex-math></inline-formula>) are combined with the two weights as shown. Starting from the least significant position, each cycle one bit per activation is <i>ANDed</i> with the corresponding weight. The six AND results feed into an adder tree and the result is accumulated after being shifted right by one bit. Since the specific activation values could be represented all using 2 bits, <i>STR</i> would need 2 cycles to process all six products, a 3/2<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-25-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-215" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-216"><span class="mo" id="MathJax-Span-217" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-25">\times</script></tex-math></inline-formula> speedup. However, <i>Stripes</i> still processes some ineffectual terms. For example, in the first cycle, 4 of the 6 terms are zero yet they are added via the adder tree, wasting computing resources and energy.</p><p class="has-inline-formula"><a ref-type="fig" anchor="fig4" class="fulltext-link">Figure 4c</a> shows a simplified <i>PRA</i> engine. <i>Pragmatic</i> uses shift and add multiplication, where one input is the number of bits to shift. Since the shift offset can be different for each multiplier, the shifter can not be shared as it was in <i>STR</i>. In this example, activations are no longer represented as vectors of bits but as vectors of offsets of the essential bits. For example, activation <i>a<sub>0</sub></i> =00<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-26-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-218" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-219"><span class="msubsup" id="MathJax-Span-220"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-221" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-222"><span class="mrow" id="MathJax-Span-223"><span class="mo" id="MathJax-Span-224" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-225" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-226" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-26">1_{(2)}</script></tex-math></inline-formula> is represented as <i>on<sub>0</sub></i> =(0), and an activation value of11<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-27-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-227" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-228"><span class="msubsup" id="MathJax-Span-229"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-230" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-231"><span class="mrow" id="MathJax-Span-232"><span class="mo" id="MathJax-Span-233" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-234" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-235" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-27">1_{(2)}</script></tex-math></inline-formula> would be represented as (2, 1, 0). There is also a valid signal for each offset (not shown) to force the input to the tree to zero, since a shifter per activation uses the offsets to effectively multiply the corresponding weight with the respective power of 2 before passing it to the adder tree. As a result, <i>PRA</i> processes only the non-zero terms avoiding all ineffectual computations. For this example, <i>PRA</i> would process six activation and weight pairs in a single cycle, a speedup of 3<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-28-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-236" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-237"><span class="mo" id="MathJax-Span-238" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-28">\times</script></tex-math></inline-formula> over the bit-parallel unit.</p><div class="section_2" id="sec3a"><h3>3.1 Key Challenges</h3><p class="has-inline-formula">Unfortunately, implementing <i>Pragmatic</i> as described in this section results in unacceptable overheads. Specifically: a) As <a ref-type="sec" anchor="sec5" class="fulltext-link">Section 5</a> will explain, to guarantee that <i>Pragmatic</i> always matches and if possible exceeds the performance of <i>DaDN</i> it needs to process 16 times as many activations bit-serially. As <a ref-type="sec" anchor="sec6b" class="fulltext-link">Section 6.2</a> shows this straightforward implementation requires 1. 94x the area and 3. 15x the power of the baseline chip, while only increasing performance by 2. 59x. This is due to: i) the weight shifters need to accommodate the worst case scenario where one of the activation powers is 0 and another is 15, and ii) consequently, the adder trees need to support 32 bit inputs instead of just 16 bit. b) As activations will have a different number of essential bits, each activation will advance at a different pace. In the worst, but most likely typical case, each activation will be out-of-sync. This will require 256 concurrent and independent narrow accesses for activations and/or 256<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-29-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-239" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-240"><span class="mo" id="MathJax-Span-241" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-29">\times</script></tex-math></inline-formula> the activation memory bandwidth. Similarly, there will be 256 concurrent and independent accesses for the corresponding weights and a 256<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-30-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-242" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-243"><span class="mo" id="MathJax-Span-244" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-30">\times</script></tex-math></inline-formula> increase in weight memory accesses. Finally, generating these memory references and tracking the progress of each lane will increase overall complexity.</p><p>To avoid these overheads <i>Pragmatic</i> incorporates several design decisions that result in a practical design that captures most of the potential for performance improvement while judiciously sacrificing some of that potential to maintain area, energy, and memory access overheads favourable.</p></div></div>
<div class="section" id="sec4"><div class="header article-hdr"><div class="kicker">
                                SECTION 4</div><h2>Background</h2></div><p>This work presents <i>Pragmatic</i> as a modification of the <i>DaDian-Nao</i> accelerator. Accordingly, this section provides the necessary background information: <a ref-type="sec" anchor="sec4a" class="fulltext-link">Section 4.1</a> reviews the operation of convolutional layers, and <a ref-type="sec" anchor="sec4b" class="fulltext-link">Section 4.2</a> overviews <i>DaDN</i> and how it processes convolutional layers.</p><div class="section_2" id="sec4a"><h3>4.1 Convolutional Layer Computation</h3><p class="has-inline-formula">A convolutional layer processes and produces activation arrays, that is 3D arrays of real numbers. The layer applies <i>N<sub>n</sub></i> 3D filters in a sliding window fashion using a constant stride <i>S</i> to produce an output 3D array. The input array contains <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-31-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-245" style="width: 6.909em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.209em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1006.21em, 2.655em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-246"><span class="msubsup" id="MathJax-Span-247"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-248" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.803em;"><span class="texatom" id="MathJax-Span-249"><span class="mrow" id="MathJax-Span-250"><span class="mi" id="MathJax-Span-251" style="font-size: 70.7%; font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-252" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="msubsup" id="MathJax-Span-253" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 1.254em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-254" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.803em;"><span class="texatom" id="MathJax-Span-255"><span class="mrow" id="MathJax-Span-256"><span class="mi" id="MathJax-Span-257" style="font-size: 70.7%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-258" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="msubsup" id="MathJax-Span-259" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 1.104em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-260" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.803em;"><span class="texatom" id="MathJax-Span-261"><span class="mrow" id="MathJax-Span-262"><span class="mi" id="MathJax-Span-263" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.225em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-31">N_{X} \times N_{y} \times N_{i}</script></tex-math></inline-formula> <i>activations</i>. Each of the <i>N<sub>n</sub></i> filters, contains <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-32-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-264" style="width: 6.909em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.209em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1006.21em, 2.655em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-265"><span class="msubsup" id="MathJax-Span-266"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-267" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.853em;"><span class="texatom" id="MathJax-Span-268"><span class="mrow" id="MathJax-Span-269"><span class="mi" id="MathJax-Span-270" style="font-size: 70.7%; font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-271" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="msubsup" id="MathJax-Span-272" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 1.254em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-273" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.853em;"><span class="texatom" id="MathJax-Span-274"><span class="mrow" id="MathJax-Span-275"><span class="mi" id="MathJax-Span-276" style="font-size: 70.7%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-277" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="msubsup" id="MathJax-Span-278" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 1.104em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-279" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.803em;"><span class="texatom" id="MathJax-Span-280"><span class="mrow" id="MathJax-Span-281"><span class="mi" id="MathJax-Span-282" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.225em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-32">K_{X} \times K_{y} \times N_{i}</script></tex-math></inline-formula> <i>weights</i> which are also real numbers. The output activation array dimensions are <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-33-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-283" style="width: 7.01em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.309em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1006.31em, 2.655em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-284"><span class="msubsup" id="MathJax-Span-285"><span style="display: inline-block; position: relative; width: 1.454em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-286" style="font-family: MathJax_Math-italic;">O</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.753em;"><span class="texatom" id="MathJax-Span-287"><span class="mrow" id="MathJax-Span-288"><span class="mi" id="MathJax-Span-289" style="font-size: 70.7%; font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-290" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="msubsup" id="MathJax-Span-291" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-292" style="font-family: MathJax_Math-italic;">O</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.753em;"><span class="texatom" id="MathJax-Span-293"><span class="mrow" id="MathJax-Span-294"><span class="mi" id="MathJax-Span-295" style="font-size: 70.7%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-296" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="msubsup" id="MathJax-Span-297" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 1.304em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-298" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.803em;"><span class="texatom" id="MathJax-Span-299"><span class="mrow" id="MathJax-Span-300"><span class="mi" id="MathJax-Span-301" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.225em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-33">O_{X} \times O_{y} \times N_{n}</script></tex-math></inline-formula>, that is its depth equals the filter count. The layer computes the inner product of a filter and a <i>window</i>, a filter-sized, or <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-34-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-302" style="width: 6.759em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.059em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1006.06em, 2.655em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-303"><span class="msubsup" id="MathJax-Span-304"><span style="display: inline-block; position: relative; width: 1.354em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-305" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.853em;"><span class="texatom" id="MathJax-Span-306"><span class="mrow" id="MathJax-Span-307"><span class="mi" id="MathJax-Span-308" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-309" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="msubsup" id="MathJax-Span-310" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 1.254em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-311" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.853em;"><span class="texatom" id="MathJax-Span-312"><span class="mrow" id="MathJax-Span-313"><span class="mi" id="MathJax-Span-314" style="font-size: 70.7%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-315" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="msubsup" id="MathJax-Span-316" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 1.104em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-317" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.803em;"><span class="texatom" id="MathJax-Span-318"><span class="mrow" id="MathJax-Span-319"><span class="mi" id="MathJax-Span-320" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.225em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-34">K_{x} \times K_{y} \times N_{i}</script></tex-math></inline-formula> sub-array of the input activation array. The inner product is then passed through an <i>activation function</i>, such as ReLU, to produce an output activation. If <i>a</i>(<i>y, x, i</i>) and <i>o</i>(<i>y, x, i</i>) are respectively input and output activations, <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-35-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-321" style="width: 1.354em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.2em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-322"><span class="msubsup" id="MathJax-Span-323"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.7em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-324" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.352em; left: 0.703em;"><span class="texatom" id="MathJax-Span-325"><span class="mrow" id="MathJax-Span-326"><span class="mi" id="MathJax-Span-327" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.892em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-35">w^{n}</script></tex-math></inline-formula>(<i>x, y, i</i>) are the weights of filter <i>n</i> and <i>f</i> is the activation function. The output activation at position (<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-36-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-328" style="width: 2.555em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.305em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.504em, 1002.3em, 2.555em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-329"><span class="mi" id="MathJax-Span-330" style="font-family: MathJax_Math-italic;">x</span><span class="mi" id="MathJax-Span-331" style="font-family: MathJax_Main;">′</span><span class="mo" id="MathJax-Span-332" style="font-family: MathJax_Main;">,</span><span class="mtext" id="MathJax-Span-333" style="font-family: MathJax_Main; padding-left: 0.153em;">&nbsp;</span><span class="mi" id="MathJax-Span-334" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-335" style="font-family: MathJax_Main;">′</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.275em; border-left: 0px solid; width: 0px; height: 0.947em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-36">x\prime,\ y\prime</script></tex-math></inline-formula>, <i>n</i>) is given by:
</p><div class="figure figure-full" id="fig4"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber4abc-p382-albericio-large.gif" data-fig-id="fig4"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber4abc-p382-albericio-small.gif" loading="lazy" alt="Figure 4: - a) Bit-parallel unit. b) Bit-serial unit with equivalent throughput (Stripes [19]). c) Pragmatic unit with equivalent throughput where only essential information is processed."><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 4: </b><fig><p>a) Bit-parallel unit. b) Bit-serial unit with equivalent throughput (<i>Stripes</i> <a ref-type="bibr" anchor="ref19" id="context_ref_19_4a" data-range="ref19">[19]</a>). c) <i>Pragmatic</i> unit with equivalent throughput where only essential information is processed.</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div>
<disp-formula id="" class="display-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-37-Frame" tabindex="0" style="text-align: center;"><nobr><span class="math" id="MathJax-Span-336" style="width: 34.937em; display: inline-block;"><span style="display: inline-block; position: relative; width: 31.484em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(-0.348em, 1031.48em, 5.708em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-337"><span class="munderover" id="MathJax-Span-338"><span style="display: inline-block; position: relative; width: 4.857em; height: 0px;"><span style="position: absolute; clip: rect(3.056em, 1004.86em, 5.158em, -999.997em); top: -4.002em; left: 0em;"><span class="texatom" id="MathJax-Span-339"><span class="mrow" id="MathJax-Span-340"><span class="munderover" id="MathJax-Span-341"><span style="display: inline-block; position: relative; width: 4.857em; height: 0px;"><span style="position: absolute; clip: rect(3.056em, 1004.71em, 4.407em, -999.997em); top: -4.002em; left: 0.003em;"><span class="mrow" id="MathJax-Span-342"><span class="mi" id="MathJax-Span-343" style="font-family: MathJax_Math-italic;">O</span><span class="mrow" id="MathJax-Span-344" style="padding-left: 0.153em;"><span class="mo" id="MathJax-Span-345" style=""><span style="font-family: MathJax_Main;">(</span></span><span class="msubsup" id="MathJax-Span-346"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.357em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-347" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.402em; left: 0.553em;"><span class="texatom" id="MathJax-Span-348"><span class="mrow" id="MathJax-Span-349"><span class="mi" id="MathJax-Span-350" style="font-size: 70.7%; font-family: MathJax_Main;">′</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-351" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-352" style="padding-left: 0.153em;"><span style="display: inline-block; position: relative; width: 0.853em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-353" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.402em; left: 0.553em;"><span class="texatom" id="MathJax-Span-354"><span class="mrow" id="MathJax-Span-355"><span class="mi" id="MathJax-Span-356" style="font-size: 70.7%; font-family: MathJax_Main;">′</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-357" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-358" style="font-family: MathJax_Math-italic; padding-left: 0.153em;">n</span><span class="mo" id="MathJax-Span-359" style=""><span style="font-family: MathJax_Main;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(1.854em, 1004.86em, 2.705em, -999.997em); top: -1.599em; left: 0em;"><span class="mo" id="MathJax-Span-360" style=""><span style="display: inline-block; position: relative; width: 4.857em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 4.357em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 1.954em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.353em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.703em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.004em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.354em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.654em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.755em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.106em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.406em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.706em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.057em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.355em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1002.25em, 4.407em, -999.997em); top: -2.4em; left: 1.204em;"><span class="texatom" id="MathJax-Span-361"><span class="mrow" id="MathJax-Span-362"><span class="mtext" id="MathJax-Span-363" style="font-size: 70.7%; font-family: MathJax_Main;">&nbsp;output&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-364" style="font-family: MathJax_Main; padding-left: 0.303em;">=</span><span class="munderover" id="MathJax-Span-365" style="padding-left: 0.303em;"><span style="display: inline-block; position: relative; width: 25.228em; height: 0px;"><span style="position: absolute; clip: rect(3.456em, 1025.23em, 8.761em, -999.997em); top: -6.004em; left: 0em;"><span class="texatom" id="MathJax-Span-366"><span class="mrow" id="MathJax-Span-367"><span class="munderover" id="MathJax-Span-368"><span style="display: inline-block; position: relative; width: 25.228em; height: 0px;"><span style="position: absolute; clip: rect(2.705em, 1024.93em, 7.31em, -999.997em); top: -5.253em; left: 0.003em;"><span class="mrow" id="MathJax-Span-369"><span class="mi" id="MathJax-Span-370" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mrow" id="MathJax-Span-371" style="padding-left: 0.153em;"><span class="mo" id="MathJax-Span-372" style="vertical-align: 2.405em;"><span style="display: inline-block; position: relative; width: 0.853em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.85em; left: 0em;">⎛<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.398em; left: 0em;">⎝<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.799em; left: 0em;">⎜<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.349em; left: 0em;">⎜<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="munderover" id="MathJax-Span-373"><span style="display: inline-block; position: relative; width: 1.854em; height: 0px;"><span style="position: absolute; clip: rect(2.905em, 1001.4em, 4.607em, -999.997em); top: -4.002em; left: 0.203em;"><span class="mo" id="MathJax-Span-374" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1001.3em, 4.257em, -999.997em); top: -2.9em; left: 0.253em;"><span class="texatom" id="MathJax-Span-375"><span class="mrow" id="MathJax-Span-376"><span class="mi" id="MathJax-Span-377" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-378" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-379" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.256em, 1001.8em, 4.257em, -999.997em); top: -5.153em; left: 0em;"><span class="texatom" id="MathJax-Span-380"><span class="mrow" id="MathJax-Span-381"><span class="msubsup" id="MathJax-Span-382"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px;"><span style="position: absolute; clip: rect(3.356em, 1000.65em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-383" style="font-size: 70.7%; font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.901em; left: 0.603em;"><span class="texatom" id="MathJax-Span-384"><span class="mrow" id="MathJax-Span-385"><span class="mi" id="MathJax-Span-386" style="font-size: 50%; font-family: MathJax_Math-italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-387" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-388" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="munderover" id="MathJax-Span-389" style="padding-left: 0.153em;"><span style="display: inline-block; position: relative; width: 1.804em; height: 0px;"><span style="position: absolute; clip: rect(2.905em, 1001.4em, 4.607em, -999.997em); top: -4.002em; left: 0.203em;"><span class="mo" id="MathJax-Span-390" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1001.2em, 4.407em, -999.997em); top: -2.9em; left: 0.303em;"><span class="texatom" id="MathJax-Span-391"><span class="mrow" id="MathJax-Span-392"><span class="mi" id="MathJax-Span-393" style="font-size: 70.7%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-394" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-395" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.256em, 1001.75em, 4.357em, -999.997em); top: -5.253em; left: 0em;"><span class="texatom" id="MathJax-Span-396"><span class="mrow" id="MathJax-Span-397"><span class="msubsup" id="MathJax-Span-398"><span style="display: inline-block; position: relative; width: 0.903em; height: 0px;"><span style="position: absolute; clip: rect(3.356em, 1000.65em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-399" style="font-size: 70.7%; font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.901em; left: 0.603em;"><span class="texatom" id="MathJax-Span-400"><span class="mrow" id="MathJax-Span-401"><span class="mi" id="MathJax-Span-402" style="font-size: 50%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-403" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-404" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="munderover" id="MathJax-Span-405" style="padding-left: 0.153em;"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px;"><span style="position: absolute; clip: rect(2.905em, 1001.4em, 4.607em, -999.997em); top: -4.002em; left: 0.153em;"><span class="mo" id="MathJax-Span-406" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1001.1em, 4.257em, -999.997em); top: -2.9em; left: 0.253em;"><span class="texatom" id="MathJax-Span-407"><span class="mrow" id="MathJax-Span-408"><span class="mi" id="MathJax-Span-409" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-410" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-411" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.256em, 1001.65em, 4.257em, -999.997em); top: -5.153em; left: 0em;"><span class="texatom" id="MathJax-Span-412"><span class="mrow" id="MathJax-Span-413"><span class="msubsup" id="MathJax-Span-414"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px;"><span style="position: absolute; clip: rect(3.356em, 1000.65em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-415" style="font-size: 70.7%; font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.901em; left: 0.553em;"><span class="texatom" id="MathJax-Span-416"><span class="mrow" id="MathJax-Span-417"><span class="mi" id="MathJax-Span-418" style="font-size: 50%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-419" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-420" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="munderover" id="MathJax-Span-421" style="padding-left: 0.153em;"><span style="display: inline-block; position: relative; width: 4.307em; height: 0px;"><span style="position: absolute; clip: rect(3.106em, 1004.31em, 5.158em, -999.997em); top: -4.002em; left: 0em;"><span class="texatom" id="MathJax-Span-422"><span class="mrow" id="MathJax-Span-423"><span class="munderover" id="MathJax-Span-424"><span style="display: inline-block; position: relative; width: 4.307em; height: 0px;"><span style="position: absolute; clip: rect(3.106em, 1004.16em, 4.407em, -999.997em); top: -4.002em; left: 0.003em;"><span class="mrow" id="MathJax-Span-425"><span class="msubsup" id="MathJax-Span-426"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.7em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-427" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.402em; left: 0.703em;"><span class="texatom" id="MathJax-Span-428"><span class="mrow" id="MathJax-Span-429"><span class="mi" id="MathJax-Span-430" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-431" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-432" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-433" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-434" style="font-family: MathJax_Math-italic; padding-left: 0.153em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-435" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-436" style="font-family: MathJax_Math-italic; padding-left: 0.153em;">i</span><span class="mo" id="MathJax-Span-437" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(1.854em, 1004.31em, 2.705em, -999.997em); top: -1.599em; left: 0em;"><span class="mo" id="MathJax-Span-438" style=""><span style="display: inline-block; position: relative; width: 4.307em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 3.856em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 1.704em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.403em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.703em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.054em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.354em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.505em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.855em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.156em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.506em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.355em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1002em, 4.407em, -999.997em); top: -2.35em; left: 1.154em;"><span class="texatom" id="MathJax-Span-439"><span class="mrow" id="MathJax-Span-440"><span class="mtext" id="MathJax-Span-441" style="font-size: 70.7%; font-family: MathJax_Main;">weight</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-442" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="munderover" id="MathJax-Span-443" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 11.464em; height: 0px;"><span style="position: absolute; clip: rect(3.056em, 1011.46em, 5.158em, -999.997em); top: -4.002em; left: 0em;"><span class="texatom" id="MathJax-Span-444"><span class="mrow" id="MathJax-Span-445"><span class="munderover" id="MathJax-Span-446"><span style="display: inline-block; position: relative; width: 11.464em; height: 0px;"><span style="position: absolute; clip: rect(3.056em, 1011.31em, 4.407em, -999.997em); top: -4.002em; left: 0.003em;"><span class="mrow" id="MathJax-Span-447"><span class="mi" id="MathJax-Span-448" style="font-family: MathJax_Math-italic;">a</span><span class="mrow" id="MathJax-Span-449" style="padding-left: 0.153em;"><span class="mo" id="MathJax-Span-450" style=""><span style="font-family: MathJax_Main;">(</span></span><span class="mi" id="MathJax-Span-451" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-452" style="font-family: MathJax_Main; padding-left: 0.203em;">+</span><span class="msubsup" id="MathJax-Span-453" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 0.853em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-454" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.402em; left: 0.553em;"><span class="texatom" id="MathJax-Span-455"><span class="mrow" id="MathJax-Span-456"><span class="mi" id="MathJax-Span-457" style="font-size: 70.7%; font-family: MathJax_Main;">′</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-458" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="mi" id="MathJax-Span-459" style="font-family: MathJax_Math-italic; padding-left: 0.203em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-460" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-461" style="font-family: MathJax_Math-italic; padding-left: 0.153em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-462" style="font-family: MathJax_Main; padding-left: 0.203em;">+</span><span class="msubsup" id="MathJax-Span-463" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.357em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-464" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.402em; left: 0.553em;"><span class="texatom" id="MathJax-Span-465"><span class="mrow" id="MathJax-Span-466"><span class="mi" id="MathJax-Span-467" style="font-size: 70.7%; font-family: MathJax_Main;">′</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-468" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="mi" id="MathJax-Span-469" style="font-family: MathJax_Math-italic; padding-left: 0.203em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-470" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-471" style="font-family: MathJax_Math-italic; padding-left: 0.153em;">i</span><span class="mo" id="MathJax-Span-472" style=""><span style="font-family: MathJax_Main;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(1.854em, 1011.46em, 2.705em, -999.997em); top: -1.599em; left: 0em;"><span class="mo" id="MathJax-Span-473" style=""><span style="display: inline-block; position: relative; width: 11.464em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 10.963em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 5.258em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.403em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.803em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.154em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.554em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.904em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.305em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.655em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.056em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.406em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.756em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.157em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.507em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.907em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 6.109em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 6.509em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 6.859em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 7.26em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 7.61em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 8.011em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 8.361em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 8.711em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 9.112em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 9.462em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 9.862em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 10.213em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 10.613em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.355em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1002em, 4.407em, -999.997em); top: -2.35em; left: 4.707em;"><span class="texatom" id="MathJax-Span-474"><span class="mrow" id="MathJax-Span-475"><span class="mtext" id="MathJax-Span-476" style="font-size: 70.7%; font-family: MathJax_Main;">weight</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-477" style="vertical-align: 2.405em;"><span style="display: inline-block; position: relative; width: 0.853em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.85em; left: 0em;">⎞<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.398em; left: 0em;">⎠<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.799em; left: 0em;">⎟<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.349em; left: 0em;">⎟<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.258em;"></span></span><span style="position: absolute; clip: rect(1.854em, 1025.23em, 2.705em, -999.997em); top: 0.053em; left: 0em;"><span class="mo" id="MathJax-Span-478" style=""><span style="display: inline-block; position: relative; width: 25.228em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 24.777em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 12.165em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.403em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.803em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.154em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.504em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.904em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.255em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.605em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.006em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.356em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.706em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.107em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.457em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.807em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 5.208em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 5.558em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 5.908em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 6.309em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 6.659em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 7.01em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 7.41em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 7.76em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 8.111em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 8.511em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 8.861em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 9.212em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 9.612em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 9.962em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 10.313em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 10.713em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 11.064em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 11.414em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 11.814em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 13.016em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 13.366em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 13.766em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 14.117em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 14.467em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 14.867em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 15.218em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 15.568em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 15.968em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 16.319em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 16.669em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 17.07em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 17.42em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 17.77em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 18.171em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 18.521em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 18.871em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 19.272em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 19.622em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 19.972em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 20.373em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 20.723em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 21.074em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 21.474em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 21.824em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 22.175em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 22.575em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 22.925em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 23.276em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 23.676em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 24.027em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 24.377em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.355em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 6.009em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1002.36em, 4.257em, -999.997em); top: -0.748em; left: 11.414em;"><span class="texatom" id="MathJax-Span-479"><span class="mrow" id="MathJax-Span-480"><span class="mi" id="MathJax-Span-481" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mi" id="MathJax-Span-482" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-483" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-484" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-485" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-486" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -3.775em; border-left: 0px solid; width: 0px; height: 6.503em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-37">\begin{equation*}\underbrace { O \left( y ^ { \prime } , x ^ { \prime } , n \right) } _ { \text { output } } =\underbrace { f \left( \sum _ { x = 0 } ^ { K _ { x } - 1 } \sum _ { y = 0 } ^ { K _ { y } - 1 } \sum _ { i = 0 } ^ { N _ { i } - 1 } \underbrace { w ^ { n } ( x , y , i ) } _ { \text {weight} } \times \underbrace { a \left( x + x ^ { \prime } \times S , y + y ^ { \prime } \times S , i \right) } _ { \text {weight} } \right) }_{window}\end{equation*}</script></tex-math><span class="formula"><span class="link">View Source</span><img class="document-ft-image" aria-describedby="qtip-0" style="display:inline;" title="Right-click on figure or equation for MathML and additional features." data-hasqtip="0" alt="Right-click on figure for MathML and additional features." src="/assets/img/icon.support.gif" border="0" height="20" width="24"><span class="tex tex2jax_ignore" style="display:none;">\begin{equation*}\underbrace { O \left( y ^ { \prime } , x ^ { \prime } , n \right) } _ { \text { output } } =\underbrace { f \left( \sum _ { x = 0 } ^ { K _ { x } - 1 } \sum _ { y = 0 } ^ { K _ { y } - 1 } \sum _ { i = 0 } ^ { N _ { i } - 1 } \underbrace { w ^ { n } ( x , y , i ) } _ { \text {weight} } \times \underbrace { a \left( x + x ^ { \prime } \times S , y + y ^ { \prime } \times S , i \right) } _ { \text {weight} } \right) }_{window}\end{equation*}</span></span></disp-formula><p></p><p class="has-inline-formula">The layer applies filters repeatedly over different windows positioned along the X and Y dimensions with stride <i>S</i>, and there is one output activation per window and filter. Accordingly, the output activation array dimensions are <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-38-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-487" style="width: 22.025em; display: inline-block;"><span style="display: inline-block; position: relative; width: 19.822em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.304em, 1019.77em, 2.655em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-488"><span class="msubsup" id="MathJax-Span-489"><span style="display: inline-block; position: relative; width: 1.454em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-490" style="font-family: MathJax_Math-italic;">O</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.753em;"><span class="texatom" id="MathJax-Span-491"><span class="mrow" id="MathJax-Span-492"><span class="mi" id="MathJax-Span-493" style="font-size: 70.7%; font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-494" style="font-family: MathJax_Main; padding-left: 0.303em;">=</span><span class="mo" id="MathJax-Span-495" style="font-family: MathJax_Main; padding-left: 0.303em;">(</span><span class="msubsup" id="MathJax-Span-496"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-497" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.803em;"><span class="texatom" id="MathJax-Span-498"><span class="mrow" id="MathJax-Span-499"><span class="mi" id="MathJax-Span-500" style="font-size: 70.7%; font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-501" style="font-family: MathJax_Main; padding-left: 0.203em;">−</span><span class="msubsup" id="MathJax-Span-502" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-503" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.853em;"><span class="texatom" id="MathJax-Span-504"><span class="mrow" id="MathJax-Span-505"><span class="mi" id="MathJax-Span-506" style="font-size: 70.7%; font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-507" style="font-family: MathJax_Main;">)</span><span class="texatom" id="MathJax-Span-508"><span class="mrow" id="MathJax-Span-509"><span class="mo" id="MathJax-Span-510" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-511" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mn" id="MathJax-Span-512" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-513" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-514" style="padding-left: 0.153em;"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-515" style="font-family: MathJax_Math-italic;">O</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.753em;"><span class="texatom" id="MathJax-Span-516"><span class="mrow" id="MathJax-Span-517"><span class="mi" id="MathJax-Span-518" style="font-size: 70.7%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-519" style="font-family: MathJax_Main; padding-left: 0.303em;">=</span><span class="mo" id="MathJax-Span-520" style="font-family: MathJax_Main; padding-left: 0.303em;">(</span><span class="msubsup" id="MathJax-Span-521"><span style="display: inline-block; position: relative; width: 1.254em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-522" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.803em;"><span class="texatom" id="MathJax-Span-523"><span class="mrow" id="MathJax-Span-524"><span class="mi" id="MathJax-Span-525" style="font-size: 70.7%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-526" style="font-family: MathJax_Main; padding-left: 0.203em;">−</span><span class="msubsup" id="MathJax-Span-527" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 1.254em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-528" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.853em;"><span class="texatom" id="MathJax-Span-529"><span class="mrow" id="MathJax-Span-530"><span class="mi" id="MathJax-Span-531" style="font-size: 70.7%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-532" style="font-family: MathJax_Main;">)</span><span class="texatom" id="MathJax-Span-533"><span class="mrow" id="MathJax-Span-534"><span class="mo" id="MathJax-Span-535" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-536" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-537" style="font-family: MathJax_Main; padding-left: 0.203em;">+</span><span class="mn" id="MathJax-Span-538" style="font-family: MathJax_Main; padding-left: 0.203em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-38">O_{X} = (N_{X} -K_{X})/S1, O_{y} = (N_{y}-K_{y})/S+1</script></tex-math></inline-formula>, and <i>O<sub>i</sub></i> = <i>N<sub>n</sub></i>. Convolutions exhibit data reuse in three dimensions: 1) activations are reused for each filter, 2) weights are reused for each window, and 3) activations are reused due to overlap in the sliding window.</p><div class="section_2" id="sec4a1"><h4>4.1.1 Terminology - Bricks and Pallets:</h4><p class="has-inline-formula">For clarity, in what follows the term brick refers to a set of16 elements of a 3D activation or weight array which are contiguous along the <i>i</i> dimension, e.g., <i>n</i>(<i>x, y, i</i>)<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-39-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-539" style="width: 1.304em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.154em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.954em, 1001.05em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-540"><span class="mo" id="MathJax-Span-541" style="font-family: MathJax_Main;">…</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.225em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-39">\ldots</script></tex-math></inline-formula><i>n</i>(<i>x, y, i</i>+15). Bricks will be denoted by their origin element with a <i>B</i> subscript, e.g., <i>n<sub>B</sub></i>(<i>x, y, i</i>). The term pallet refers to a set of16 bricks corresponding to consecutive windows along the <i>x</i> or <i>y</i> dimensions with a stride of<i>S</i>, e.g., <i>n<sub>B</sub></i>(<i>x, y, i</i>)<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-40-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-542" style="width: 2.855em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.555em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.604em, 1002.55em, 2.505em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-543"><span class="mo" id="MathJax-Span-544" style="font-family: MathJax_Main;">…</span><span class="msubsup" id="MathJax-Span-545" style="padding-left: 0.153em;"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.6em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-546" style="font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.603em;"><span class="texatom" id="MathJax-Span-547"><span class="mrow" id="MathJax-Span-548"><span class="mi" id="MathJax-Span-549" style="font-size: 70.7%; font-family: MathJax_Math-italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.219em; border-left: 0px solid; width: 0px; height: 0.781em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-40">\ldots n_{B}</script></tex-math></inline-formula>(<i>x, y</i>+15<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-41-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-550" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-551"><span class="mo" id="MathJax-Span-552" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-41">\times</script></tex-math></inline-formula><i>S, i</i>) and will be denoted as <i>n<sub>P</sub></i>(<i>x, y, i</i>). The number of activations per brick, and bricks per pallet are design parameters.</p></div></div><div class="section_2" id="sec4b"><h3>4.2 Baseline System: DaDianNao</h3><p class="has-inline-formula"><a ref-type="fig" anchor="fig5" class="fulltext-link">Figure 5a</a> shows a <i>DaDN</i> tile. Each <i>DaDN</i> chip comprises 16 tiles and a central 4MB eDRAM <i>Neuron Memory</i> (NM). Internally, each tile has: 1) a weight buffer (SB) that provides 256 weights per cycle one per weight lane, <a ref-type="fn" anchor="fn1" class="footnote-link"><sup>1</sup></a> 2) an input activation buffer (NBin) which provides 16 activations per cycle through 16 activation lanes, and 3) an output activation buffer (NBout) which accepts 16 partial output activations per cycle. The compute pipeline consists of16 Inner Product units (IP), where each IP computes an inner product with 16 parallel multipliers and an adder tree to computes the inner product of a brick of weights and a brick of activation each cycle. A brick of input activations is broadcast from NBin to each IP, while each IP processes a different brick of weights from different filter lanes of SB. In total 256 weights, and 16 activations are consumed each cycle. Each IP accumulates partial sums of brick inner products to compute large inner products over multiple cycles. Once the large inner product is computed, the are passed through an activation function, <i>f</i>, to produce an output activation. The 16 IPs together produce a brick of output activations. Accordingly, each cycle, the whole chip processes 16 activations and 256<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-42-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-553" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-554"><span class="mo" id="MathJax-Span-555" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-42">\times</script></tex-math></inline-formula> 16 = 4<i>K</i> weights producing 16<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-43-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-556" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-557"><span class="mo" id="MathJax-Span-558" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-43">\times</script></tex-math></inline-formula> 16=256 partial sums.
</p><p><i>DaDN</i>’s main design goal is minimizing off-chip bandwidth while maximizing on-chip compute utilization. To avoid fetching weights from off-chip, <i>DaDN</i> uses a 2MB eDRAM SB per tile for a total of 32MB eDRAM. All inter-layer activations are stored in NM which is connected via a broadcast interconnect to the 16 NBin buffers. Off-chip accesses are needed only for reading the input image, the weights once per layer, and for writing the final output.</p><p>Processing starts by reading from external memory the first layer’s filter weights, and the input image. The weights are distributed over the SBs and the input is stored into NM. Each cycle an input activation brick is broadcast to all units. Each units reads 16 weight bricks from its SB and produces a partial output activation brick which it stores in its NBout. Once computed, the output activations are stored through NBout to NM. Loading the next set of weights from external memory can be overlapped with the processing of the current layer as necessary.</p></div></div>
<div class="section" id="sec5"><div class="header article-hdr"><div class="kicker">
                                SECTION 5</div><h2>Pragmatic</h2></div><p>This section presents the <i>Pragmatic</i> architecture. <a ref-type="sec" anchor="sec5a" class="fulltext-link">Section 5.1</a> describes <i>PRA’s</i> processing approach while <a ref-type="sec" anchor="sec5b" class="fulltext-link">Section 5.2</a> describes its organization. <a ref-type="sec" anchor="sec5c" class="fulltext-link">Section 5.3</a> describes the additional circuitry needed. <a ref-type="sec" anchor="sec5d" class="fulltext-link">Sections 5.4</a> and <a ref-type="sec" anchor="sec5e" class="fulltext-link">5.5</a> present two optimizations that respectively improve area and performance. For simplicity, the description assumes specific values for various design parameters so that <i>PRA</i> performance matches that of the <i>DaDN</i> configuration of <a ref-type="sec" anchor="sec4b" class="fulltext-link">Section 4.2</a> in the worst case.</p><div class="section_2" id="sec5a"><h3>5.1 Approach</h3><p><i>PRA</i>’<i>s</i> goal is to process only the essential bits of the input activations. To do so <i>PRA</i> a) converts, on-the-fly, the input activation representation into one that contains only the essential bits, and b) processes one essential bit per activation and a fu1116-bit weight per cycle. Since <i>PRA</i> processes activation bits serially, it may take up to 16 cycles to produce a product of an activation and a weight. To always match or exceed the performance of the bit-parallel units of <i>DaDN</i>, <i>PRA</i> processes more activations concurrently exploiting the abundant parallelism of the convolutional layers. The remaining of this section describes in turn: 1) an appropriate activation representation, 2) the way <i>PRA</i> calculates terms, 3) how multiple terms are processed concurrently to maintain performance on par with <i>DaDN</i> in the worst case, and 4) how <i>PRA</i>’s units are supplied with the necessary activations from NM.
</p><div class="figure figure-full" id="fig5"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber5ab-p382-albericio-large.gif" data-fig-id="fig5"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber5ab-p382-albericio-small.gif" loading="lazy" alt="Figure 5: - a) DaDianNao Tile. b) Pragmatic Tile."><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 5: </b><fig><p>a) DaDianNao Tile. b) Pragmatic Tile.</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div><p></p><div class="section_2" id="sec5a1"><h4>5.1.1 Input activation Representation.</h4><p class="has-inline-formula"><i>PRA</i> starts with an input activation representation where it is straightforward to identify the next essential bit each cycle. One such representation is an explicit list of <i>oneffsets</i>, that is of the constituent powers of two. For example, an activation <i>a</i>=5.<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-44-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-559" style="width: 2.055em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.854em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.85em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-560"><span class="msubsup" id="MathJax-Span-561"><span style="display: inline-block; position: relative; width: 1.854em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-562" style="font-family: MathJax_Main;">5</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-563"><span class="mrow" id="MathJax-Span-564"><span class="mo" id="MathJax-Span-565" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-566" style="font-size: 70.7%; font-family: MathJax_Main;">10</span><span class="mo" id="MathJax-Span-567" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-44">5_{(10)}</script></tex-math></inline-formula> =0101.<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-45-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-568" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-569"><span class="msubsup" id="MathJax-Span-570"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-571" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-572"><span class="mrow" id="MathJax-Span-573"><span class="mo" id="MathJax-Span-574" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-575" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-576" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-45">1_{(2)}</script></tex-math></inline-formula> would be represented as <i>a</i>=(2,0, -1). In the implementation described herein, activations are stored in 16-bit fixed-point in NM, and converted on-the-fly in the <i>PRA</i> representation as they are broadcast to the tiles. A single oneffset is processed per activation per cycle. Each oneffset is represented as (<i>pow, eon</i>) where <i>pow</i> is a 4-bit value and <i>eon</i> a single bit which if set indicates the end of an activation. For example, <i>a</i>=10<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-46-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-577" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1001.5em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-578"><span class="msubsup" id="MathJax-Span-579"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-580" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.801em; left: 0.503em;"><span class="texatom" id="MathJax-Span-581"><span class="mrow" id="MathJax-Span-582"><span class="mo" id="MathJax-Span-583" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-584" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-585" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.281em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-46">1_{(2)}</script></tex-math></inline-formula> is represented as <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-47-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-586" style="width: 2.455em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1002.21em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-587"><span class="msubsup" id="MathJax-Span-588"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-589" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.352em; left: 0.553em;"><span class="texatom" id="MathJax-Span-590"><span class="mrow" id="MathJax-Span-591"><span class="mi" id="MathJax-Span-592" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span class="mi" id="MathJax-Span-593" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-594" style="font-size: 70.7%; font-family: MathJax_Math-italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 1.114em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-47">a^{PRA}</script></tex-math></inline-formula>=((0010, 0) (0000, 1)). In the worst case, all bits of an input activation would be 1 and hence its <i>PRA</i> representation would contain 16 oneffsets.</p></div><div class="section_2" id="sec5a2"><h4>5.1.2 Calculating a Term.</h4><p><i>PRA</i> calculates the product of weight <i>w</i> and activation <i>a</i> as:
<disp-formula id="" class="display-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-48-Frame" tabindex="0" style="text-align: center;"><nobr><span class="math" id="MathJax-Span-595" style="width: 18.971em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.07em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.104em, 1016.97em, 3.806em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-596"><span class="texatom" id="MathJax-Span-597"><span class="mrow" id="MathJax-Span-598"><span class="mi" id="MathJax-Span-599" style="font-family: MathJax_Main-italic;">w</span></span></span><span class="mo" id="MathJax-Span-600" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="texatom" id="MathJax-Span-601" style="padding-left: 0.203em;"><span class="mrow" id="MathJax-Span-602"><span class="mi" id="MathJax-Span-603" style="font-family: MathJax_Main-italic;">a</span></span></span><span class="mo" id="MathJax-Span-604" style="font-family: MathJax_Main; padding-left: 0.303em;">=</span><span class="munderover" id="MathJax-Span-605" style="padding-left: 0.303em;"><span style="display: inline-block; position: relative; width: 2.805em; height: 0px;"><span style="position: absolute; clip: rect(2.905em, 1001.4em, 4.607em, -999.997em); top: -4.002em; left: 0.703em;"><span class="mo" id="MathJax-Span-606" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.256em, 1002.8em, 4.407em, -999.997em); top: -2.75em; left: 0em;"><span class="texatom" id="MathJax-Span-607"><span class="mrow" id="MathJax-Span-608"><span class="mi" id="MathJax-Span-609" style="font-size: 70.7%; font-family: MathJax_Main;">∀</span><span class="mi" id="MathJax-Span-610" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-611" style="font-size: 70.7%; font-family: MathJax_Main;">∈</span><span class="msubsup" id="MathJax-Span-612"><span style="display: inline-block; position: relative; width: 1.554em; height: 0px;"><span style="position: absolute; clip: rect(3.556em, 1000.35em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-613" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.252em; left: 0.353em;"><span class="texatom" id="MathJax-Span-614"><span class="mrow" id="MathJax-Span-615"><span class="mi" id="MathJax-Span-616" style="font-size: 50%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mi" id="MathJax-Span-617" style="font-size: 50%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-618" style="font-size: 50%; font-family: MathJax_Math-italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="texatom" id="MathJax-Span-619" style="padding-left: 0.153em;"><span class="mrow" id="MathJax-Span-620"><span class="mi" id="MathJax-Span-621" style="font-family: MathJax_Main-italic;">w</span></span></span><span class="mo" id="MathJax-Span-622" style="font-family: MathJax_Main; padding-left: 0.203em;">×</span><span class="msubsup" id="MathJax-Span-623" style="padding-left: 0.203em;"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-624" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.402em; left: 0.503em;"><span class="texatom" id="MathJax-Span-625"><span class="mrow" id="MathJax-Span-626"><span class="mi" id="MathJax-Span-627" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-628" style="font-family: MathJax_Main; padding-left: 0.303em;">=</span><span class="munderover" id="MathJax-Span-629" style="padding-left: 0.303em;"><span style="display: inline-block; position: relative; width: 2.805em; height: 0px;"><span style="position: absolute; clip: rect(2.905em, 1001.4em, 4.607em, -999.997em); top: -4.002em; left: 0.703em;"><span class="mo" id="MathJax-Span-630" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.256em, 1002.8em, 4.407em, -999.997em); top: -2.75em; left: 0em;"><span class="texatom" id="MathJax-Span-631"><span class="mrow" id="MathJax-Span-632"><span class="mi" id="MathJax-Span-633" style="font-size: 70.7%; font-family: MathJax_Main;">∀</span><span class="mi" id="MathJax-Span-634" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-635" style="font-size: 70.7%; font-family: MathJax_Main;">∈</span><span class="msubsup" id="MathJax-Span-636"><span style="display: inline-block; position: relative; width: 1.554em; height: 0px;"><span style="position: absolute; clip: rect(3.556em, 1000.35em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-637" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.252em; left: 0.353em;"><span class="texatom" id="MathJax-Span-638"><span class="mrow" id="MathJax-Span-639"><span class="mi" id="MathJax-Span-640" style="font-size: 50%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mi" id="MathJax-Span-641" style="font-size: 50%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-642" style="font-size: 50%; font-family: MathJax_Math-italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-643" style="font-family: MathJax_Main;">(</span><span class="texatom" id="MathJax-Span-644"><span class="mrow" id="MathJax-Span-645"><span class="mi" id="MathJax-Span-646" style="font-family: MathJax_Main-italic;">w</span></span></span><span class="mo" id="MathJax-Span-647" style="font-family: MathJax_Main; padding-left: 0.303em;">≪</span><span class="texatom" id="MathJax-Span-648" style="padding-left: 0.303em;"><span class="mrow" id="MathJax-Span-649"><span class="mi" id="MathJax-Span-650" style="font-family: MathJax_Main-italic;">f</span></span></span><span class="mo" id="MathJax-Span-651" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.664em; border-left: 0px solid; width: 0px; height: 2.781em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-48">\begin{equation*}{\it w}\times{\it a}=\sum_{\forall f\in a^{PRA}}{\it w}\times 2^{f}=\sum_{\forall f\in a^{PRA}}({\it w}\ll{\it f})\end{equation*}</script></tex-math><span class="formula"><span class="link">View Source</span><img class="document-ft-image" aria-describedby="qtip-0" style="display:inline;" title="Right-click on figure or equation for MathML and additional features." data-hasqtip="0" alt="Right-click on figure for MathML and additional features." src="/assets/img/icon.support.gif" border="0" height="20" width="24"><span class="tex tex2jax_ignore" style="display:none;">\begin{equation*}{\it w}\times{\it a}=\sum_{\forall f\in a^{PRA}}{\it w}\times 2^{f}=\sum_{\forall f\in a^{PRA}}({\it w}\ll{\it f})\end{equation*}</span></span></disp-formula></p><p>That is, each cycle, the weight <i>w</i> multiplied by <i>f</i>, the next constituent power two of <i>a</i>, and the result is accumulated. This multiplication can be implemented as a shift and an AND.</p></div><div class="section_2" id="sec5a3"><h4>5.1.3 Boosting Compute Bandwidth over DaDN.</h4><p class="has-inline-formula">To match <i>DaDN</i>’s performance <i>PRA</i> needs to process the same number of effectual terms per cycle. Each <i>DaDN</i> tile calculates 256 activation and weight products per cycle, or 256 <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-49-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-652" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-653"><span class="mo" id="MathJax-Span-654" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-49">\times</script></tex-math></inline-formula> 16 =4<i>K</i> terms. While most of these terms will be in practice ineffectual, to guarantee that <i>PRA</i> always performs as well as <i>DaDN</i> it should process 4<i>K</i> terms per cycle. For the time being let us assume that all activations contain the same number of essential bits, so that when processing multiple activations in parallel, all units complete at the same time and thus can proceed with the next set of activations in sync. The next section will relax this constraint.</p><p>Since <i>PRA</i> processes activations bits serially, it produces one term per activation bit and weight pair and thus needs to process 4<i>K</i> such pairs concurrently. The choice of which 4<i>K</i> activation bits and weight pairs to process concurrently can adversely affect complexity and performance. For example, it could force an increase in SB capacity and width, or an increase in NM width, or be ineffective due to unit underutilization given the commonly used layer sizes.</p><p class="has-inline-formula">Fortunately, it is possible to avoid increasing the capacity and the width of the SB and of the NM while keeping the units utilized as in <i>DaDN</i>. Specifically, a <i>PRA</i> tile can read 16 weight bricks and the equivalent of 256 activation bits as <i>DaDN</i>’s tiles do (<i>DaDN</i> processes 1616-bit activations or 256 activation bits per cycle): As in <i>DaDN</i>, each <i>PRA</i> tile processes 16 weight bricks concurrently, one per filter. However, differently than <i>DaDN</i> where the 16 weight bricks are combined with just one activation brick which is processed bit-parallel, <i>PRA</i> combines each weight brick with 16 activation bricks, one from each of16 windows, which are processed bit-serially. The same 16 activation bricks are combined with all weight bricks. These activation bricks form a <i>pallet</i> enabling the same weight brick to be combined with all. For example, in a single cycle a <i>PRA</i> tile processing filters 0 through 15 could combine <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-50-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-655" style="width: 1.504em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.354em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.35em, 2.605em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-656"><span class="msubsup" id="MathJax-Span-657"><span style="display: inline-block; position: relative; width: 1.354em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.7em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-658" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1000.45em, 4.157em, -999.997em); top: -4.352em; left: 0.703em;"><span class="texatom" id="MathJax-Span-659"><span class="mrow" id="MathJax-Span-660"><span class="mn" id="MathJax-Span-661" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.6em, 4.157em, -999.997em); top: -3.701em; left: 0.703em;"><span class="texatom" id="MathJax-Span-662"><span class="mrow" id="MathJax-Span-663"><span class="mi" id="MathJax-Span-664" style="font-size: 70.7%; font-family: MathJax_Math-italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.392em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-50">w_{B}^{0}</script></tex-math></inline-formula>(<i>x, y</i>, 0), <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-51-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-665" style="width: 1.704em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.5em, 2.605em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-666"><span class="msubsup" id="MathJax-Span-667"><span style="display: inline-block; position: relative; width: 1.504em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.7em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-668" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1000.8em, 4.157em, -999.997em); top: -4.352em; left: 0.703em;"><span class="texatom" id="MathJax-Span-669"><span class="mrow" id="MathJax-Span-670"><span class="mn" id="MathJax-Span-671" style="font-size: 70.7%; font-family: MathJax_Main;">15</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.6em, 4.157em, -999.997em); top: -3.701em; left: 0.703em;"><span class="texatom" id="MathJax-Span-672"><span class="mrow" id="MathJax-Span-673"><span class="mi" id="MathJax-Span-674" style="font-size: 70.7%; font-family: MathJax_Math-italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.392em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-51">w_{B}^{15}</script></tex-math></inline-formula>(<i>x, y</i>, 0) with <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-52-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-675" style="width: 2.455em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1002.21em, 2.605em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-676"><span class="msubsup" id="MathJax-Span-677"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-678" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1001.65em, 4.157em, -999.997em); top: -4.352em; left: 0.553em;"><span class="texatom" id="MathJax-Span-679"><span class="mrow" id="MathJax-Span-680"><span class="mi" id="MathJax-Span-681" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span class="mi" id="MathJax-Span-682" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-683" style="font-size: 70.7%; font-family: MathJax_Math-italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.6em, 4.157em, -999.997em); top: -3.701em; left: 0.553em;"><span class="texatom" id="MathJax-Span-684"><span class="mrow" id="MathJax-Span-685"><span class="mi" id="MathJax-Span-686" style="font-size: 70.7%; font-family: MathJax_Math-italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-52">a_{B}^{PRA}</script></tex-math></inline-formula>(<i>x, y</i>, 0), <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-53-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-687" style="width: 2.455em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1002.21em, 2.605em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-688"><span class="msubsup" id="MathJax-Span-689"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-690" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1001.65em, 4.157em, -999.997em); top: -4.352em; left: 0.553em;"><span class="texatom" id="MathJax-Span-691"><span class="mrow" id="MathJax-Span-692"><span class="mi" id="MathJax-Span-693" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span class="mi" id="MathJax-Span-694" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-695" style="font-size: 70.7%; font-family: MathJax_Math-italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.6em, 4.157em, -999.997em); top: -3.701em; left: 0.553em;"><span class="texatom" id="MathJax-Span-696"><span class="mrow" id="MathJax-Span-697"><span class="mi" id="MathJax-Span-698" style="font-size: 70.7%; font-family: MathJax_Math-italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-53">a_{B}^{PRA}</script></tex-math></inline-formula>(<i>x</i>+2, <i>y</i>, 0), <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-54-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-699" style="width: 2.455em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1002.21em, 2.605em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-700"><span class="msubsup" id="MathJax-Span-701"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-702" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1001.65em, 4.157em, -999.997em); top: -4.352em; left: 0.553em;"><span class="texatom" id="MathJax-Span-703"><span class="mrow" id="MathJax-Span-704"><span class="mi" id="MathJax-Span-705" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span class="mi" id="MathJax-Span-706" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-707" style="font-size: 70.7%; font-family: MathJax_Math-italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.6em, 4.157em, -999.997em); top: -3.701em; left: 0.553em;"><span class="texatom" id="MathJax-Span-708"><span class="mrow" id="MathJax-Span-709"><span class="mi" id="MathJax-Span-710" style="font-size: 70.7%; font-family: MathJax_Math-italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-54">a_{B}^{PRA}</script></tex-math></inline-formula>(<i>x</i>+31, <i>y</i>, 0) assuming a layer with a stride of 2. In this case, <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-55-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-711" style="width: 1.304em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.154em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.15em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-712"><span class="msubsup" id="MathJax-Span-713"><span style="display: inline-block; position: relative; width: 1.154em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.7em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-714" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.352em; left: 0.703em;"><span class="texatom" id="MathJax-Span-715"><span class="mrow" id="MathJax-Span-716"><span class="mn" id="MathJax-Span-717" style="font-size: 70.7%; font-family: MathJax_Main;">4</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 1.058em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-55">w^{4}</script></tex-math></inline-formula>(<i>x, y</i>, 2) would be paired with <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-56-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-718" style="width: 2.455em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1002.21em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-719"><span class="msubsup" id="MathJax-Span-720"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-721" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.352em; left: 0.553em;"><span class="texatom" id="MathJax-Span-722"><span class="mrow" id="MathJax-Span-723"><span class="mi" id="MathJax-Span-724" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span class="mi" id="MathJax-Span-725" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-726" style="font-size: 70.7%; font-family: MathJax_Math-italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 1.114em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-56">a^{PRA}</script></tex-math></inline-formula>(<i>x, y</i>, 2), <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-57-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-727" style="width: 2.455em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1002.21em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-728"><span class="msubsup" id="MathJax-Span-729"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-730" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.352em; left: 0.553em;"><span class="texatom" id="MathJax-Span-731"><span class="mrow" id="MathJax-Span-732"><span class="mi" id="MathJax-Span-733" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span class="mi" id="MathJax-Span-734" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-735" style="font-size: 70.7%; font-family: MathJax_Math-italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 1.114em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-57">a^{PRA}</script></tex-math></inline-formula>(<i>x</i>+2, <i>y</i>, 2), <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-58-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-736" style="width: 2.455em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1002.21em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-737"><span class="msubsup" id="MathJax-Span-738"><span style="display: inline-block; position: relative; width: 2.205em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.5em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-739" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.352em; left: 0.553em;"><span class="texatom" id="MathJax-Span-740"><span class="mrow" id="MathJax-Span-741"><span class="mi" id="MathJax-Span-742" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span class="mi" id="MathJax-Span-743" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-744" style="font-size: 70.7%; font-family: MathJax_Math-italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 1.114em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-58">a^{PRA}</script></tex-math></inline-formula>(<i>x</i>+31, <i>y</i>, 2) to produce the output activations <i>on</i> (<i>x, y</i>, 4) through <i>on</i> (<i>x</i>+15, <i>y</i>, 4).</p><p>As the example illustrates, this approach allows each weight to be combined with one activation per window whereas in <i>DaDN</i> each weight is combined with one activation only. In total, 256 essential activation bits are processed per cycle and given that there are 256 weights and 16 windows, <i>PRA</i> processes 256x 16=4<i>K</i> activation bit and weight pairs, or terms per cycle producing 256 partial output activations, 16 per filter, or 16 partial output activation bricks per cycle.
</p><div class="figure figure-full" id="fig6"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber6-p382-albericio-large.gif" data-fig-id="fig6"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber6-p382-albericio-small.gif" loading="lazy" alt="Figure 6: - Pragmatic Inner Product Unit."><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 6: </b><fig><p>Pragmatic Inner Product Unit.</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div><p></p></div><div class="section_2" id="sec5a4"><h4>5.1.4 Supplying the Input Activation and Weight Bricks.</h4><p class="has-inline-formula">Thus far it was assumed that all input activations have the same number of essential bits. Under this assumption, all activation lanes complete processing their terms at the same time, allowing <i>PRA</i> to move on to the next activation pallet and the next set of weight bricks in one step. This allows <i>PRA</i> to reuse <i>STR’s</i> approach for fetching the next pallet from the single-ported NM <a ref-type="bibr" anchor="ref19" id="context_ref_19_5a4" data-range="ref19">[19]</a>. Briefly, with unit stride the 256 activations would be typically all stored in the same NM row or at most over two adjacent NM rows and thus can be fetched in at most two cycles. When the stride is more than one, the activations will be spread over multiple rows and thus multiple cycles will be needed to fetch them all. Fortunately, fetching the next pallet can be overlapped with processing the current one. Accordingly, if it takes <i>NM<sub>C</sub></i> to access the next pallet from NM, while the current pallet requires <i>P<sub>C</sub></i> cycles to process, the next pallet will begin processing after max (<i>N</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-59-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-745" style="width: 3.956em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.556em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1003.56em, 2.555em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-746"><span class="msubsup" id="MathJax-Span-747"><span style="display: inline-block; position: relative; width: 1.604em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1001.05em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-748" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.953em;"><span class="texatom" id="MathJax-Span-749"><span class="mrow" id="MathJax-Span-750"><span class="mi" id="MathJax-Span-751" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-752" style="font-family: MathJax_Main;">,</span><span class="mtext" id="MathJax-Span-753" style="font-family: MathJax_Main; padding-left: 0.153em;">&nbsp;</span><span class="msubsup" id="MathJax-Span-754"><span style="display: inline-block; position: relative; width: 1.254em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-755" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.653em;"><span class="texatom" id="MathJax-Span-756"><span class="mrow" id="MathJax-Span-757"><span class="mi" id="MathJax-Span-758" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.275em; border-left: 0px solid; width: 0px; height: 1.114em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-59">M_{C},\ P_{C}</script></tex-math></inline-formula>) cycles. When <i>NM<sub>C</sub></i> <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-60-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-759" style="width: 2.605em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.355em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.354em, 1002.36em, 2.505em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-760"><span class="mo" id="MathJax-Span-761" style="font-family: MathJax_Main;">&gt;</span><span class="msubsup" id="MathJax-Span-762" style="padding-left: 0.303em;"><span style="display: inline-block; position: relative; width: 1.254em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-763" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.653em;"><span class="texatom" id="MathJax-Span-764"><span class="mrow" id="MathJax-Span-765"><span class="mi" id="MathJax-Span-766" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.219em; border-left: 0px solid; width: 0px; height: 1.058em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-60">\gt P_{C}</script></tex-math></inline-formula> performance is lost waiting for NM.</p><p>In practice, it is improbable that all activations will have the same number of essential bits. In general, each activation lane if left unrestricted will advance at a different rate. In the worst case, each activation lane may end up needing activations from a different activation brick, thus breaking <i>PRA</i>’<i>s</i> ability to reuse the same weight brick. This is undesirable if not impractical as it would require partitioning and replicating the SB so that 4K unrelated weights could be read per cycle, and it would also increase NM complexity and bandwidth.</p><p>Fortunately, these complexities can be avoided with <i>pallet-level activation lane synchronization</i> where all activation lanes “wait” (an activation lane that has detected the end of its activation forces zero terms while waiting) for the one with the most essential bits to finish before proceeding with the next pallet. Under this approach, it does not matter which bits are essential per activation, only how many exist. Since, it is unlikely that most pallets will contain an activation with 16 essential terms, <i>PRA</i> will improve performance over <i>DaDN</i>. <a ref-type="sec" anchor="sec6b" class="fulltext-link">Section 6.2</a> will show that in practice, this approach improves performance over <i>DaDN</i> and <i>STR</i>. <a ref-type="sec" anchor="sec5e" class="fulltext-link">Section 5.5</a> will discuss finer-grain synchronization schemes that lead to even better performance. Before doing so, however, the intervening sections detail <i>PRA’s</i> design.</p></div></div><div class="section_2" id="sec5b"><h3>5.2 Tile Organization and Operation</h3><p class="has-inline-formula"><a ref-type="fig" anchor="fig5" class="fulltext-link">Figure 5b</a> shows the <i>Pragmatic</i> tile architecture which comprises an array of 16 <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-61-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-767" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-768"><span class="mo" id="MathJax-Span-769" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-61">\times</script></tex-math></inline-formula> 16 = 256 <i>pragmatic inner product units</i> (<i>PIPs</i>). PIP(i,j) processes an activation oneffset from the i-th window and its corresponding weight from the j-th filter. Specifically, all the PIPs along the i-th row receive the same weight brick belonging to the i-th filter and all PIPs along the j-th column receive an oneffset from each activation from one activation brick belonging to the j-th window.</p><p>The necessary activation oneffsets are read from NBin where they have been placed by the Dispatcher and the Oneffset generators units as <a ref-type="sec" anchor="sec5c" class="fulltext-link">Section 5.3</a> explains. Every cycle NBin sends 256 oneffsets 16 per window lane. All the PIPs in a column receive the same 16 oneffsets, corresponding to the activations of a single window. When the tile starts to process a new activation pallet, 256 weights are read from SB through its 256 weight lanes as in <i>DaDN</i> and are stored in the weight registers (SR) of each PIP. The weight and oneffsets are then processed by the PIPs as the next section describes.</p><div class="section_2" id="sec5b1"><h4>5.2.1 Pragmatic Inner-Product Unit.</h4><p><a ref-type="fig" anchor="fig6" class="fulltext-link">Figure 6</a> shows the PIP internals. Every cycle, 16 weights are combined with their corresponding oneffsets. Each oneffsets controls a shifter effectively multiplying the weight with a power of two. The shifted weights are reduced via the adder tree. An AND gate per weight supports the injection of null terms when necessary. In the most straightforward design, the oneffsets use 4-bits, each shifter accepts a 16-bit weight and can shift it by up to 15 bit positions producing a 31-bit output. Finally, the adder tree accepts 31-bit inputs. <a ref-type="sec" anchor="sec5d" class="fulltext-link">Section 5.4</a> presents an enhanced design that requires narrower components improving area and energy.</p></div></div><div class="section_2" id="sec5c"><h3>5.3 Dispatcher and Oneffset Generators</h3><p>The <i>Dispatcher</i> reads 16 activation bricks from NM, as expected by the <i>PRA</i> tiles. The <i>oneffser generator</i> converts their activations on-the-fly to the oneffset representation, and broadcasts one oneffset per activation per cycle for a total of 256 oneffsets to all tiles. Fetching and assembling the 16 activation bricks from NM is akin to fetching words with a stride of <i>S</i> from a cache structure. As <a ref-type="sec" anchor="sec5a4" class="fulltext-link">Section 5.1.4</a> discussed this can take multiple cycles depending on the stride and alignment of the initial activation brick. <i>PRA</i> uses the same dispatcher design as <i>STR</i> <a ref-type="bibr" anchor="ref19" id="context_ref_19_5c" data-range="ref19">[19]</a>.</p><p>Once the 16 activation bricks have been collected, 256 oneffset generators operate in parallel to locate and communicate the next oneffset per activation. A straightforward 16-bit leading one detector is sufficient. The latency of the oneffset generators and the dispatcher can be readily hidden as they can be pipelined as desired overlapping them with processing in the <i>PRA</i> tiles.</p><div class="section_2" id="sec5c1"><h4>5.3.1 Local Oneffset Generation.</h4><p class="has-inline-formula">Oneffset generation converts a single bit to 5 bits: a 4 bit offset and a bit to indicate the last offset. Doing this at the dispatcher requires a 5 <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-62-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-770" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-771"><span class="mo" id="MathJax-Span-772" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-62">\times</script></tex-math></inline-formula> increase in broadcast bandwidth and NBin capacity to match the worst case activation capacity. Instead, this work opts for a configuration which generates oneffsets at each tile, between NBin and the PIP array, to maintain the baseline NBin capacity. Broadcast bandwidth is still increased to support the higher compute throughput. This is mitigated by transmitting activations serially in reduced precision, as in <i>Stripes</i> <a ref-type="bibr" anchor="ref18" id="context_ref_18_5c1" data-range="ref18">[18]</a>.
</p><div class="figure figure-full" id="fig7"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber7ab-p382-albericio-large.gif" data-fig-id="fig7"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber7ab-p382-albericio-small.gif" loading="lazy" alt="Figure 7: - 2-stage shifting. a) Modified PIP. b) Example: Processing three 9-bit weight and activation pairs with L = 2. The oneffset generator reads the activation values, and produces a set of three oneffests per cycle. Each cycle, the control logic, which is shared and amortized across the entire column of PIPs, compares the oneffsets being processed, (1, 0,4) in the first cycle of our example and picks the lowest, 0, indicated by a circle. This minimum oneffset controls the second stage shifter. The control subtracts this offset from all three oneffsets. The difference per oneffset, as long as it is less than $2^{L}$ controls the corresponding first level shifter. In the first cycle, the two shifters at the top are fed with values 1-0=1 and 0-0=0, while the shifter at the bottom is stalled given that it is not able to handle a shift by 4-0=4. On cycle 2, the oneffsets are (6,7,4) and 4 is now the minimum, which controls the 2nd stage shifter, while (1, 3, 0) control the first-level shifters. On cycle 3, only the first and the third activations still have oneffsets to process. The computation finishes in cycle 4 when the last oneffset of the third activation controls the shifters."><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 7: </b><fig><p class="has-inline-formula">2-stage shifting. a) Modified PIP. b) Example: Processing three 9-bit weight and activation pairs with L = 2. The oneffset generator reads the activation values, and produces a set of three oneffests per cycle. Each cycle, the control logic, which is shared and amortized across the entire column of PIPs, compares the oneffsets being processed, (1, 0,4) in the first cycle of our example and picks the lowest, 0, indicated by a circle. This minimum oneffset controls the second stage shifter. The control subtracts this offset from all three oneffsets. The difference per oneffset, as long as it is less than <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-63-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-773" style="width: 1.378em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.061em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.167em, 1001.06em, 2.384em, -999.997em); top: -2.22em; left: 0em;"><span class="mrow" id="MathJax-Span-774"><span class="msubsup" id="MathJax-Span-775"><span style="display: inline-block; position: relative; width: 1.061em; height: 0px;"><span style="position: absolute; clip: rect(3.177em, 1000.43em, 4.183em, -999.997em); top: -4.019em; left: 0em;"><span class="mn" id="MathJax-Span-776" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span><span style="position: absolute; top: -4.389em; left: 0.479em;"><span class="texatom" id="MathJax-Span-777"><span class="mrow" id="MathJax-Span-778"><span class="mi" id="MathJax-Span-779" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span></span></span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.225em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.063em; border-left: 0px solid; width: 0px; height: 1.27em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-63">2^{L}</script></tex-math></inline-formula> controls the corresponding first level shifter. In the first cycle, the two shifters at the top are fed with values 1-0=1 and 0-0=0, while the shifter at the bottom is stalled given that it is not able to handle a shift by 4-0=4. On cycle 2, the oneffsets are (6,7,4) and 4 is now the minimum, which controls the 2nd stage shifter, while (1, 3, 0) control the first-level shifters. On cycle 3, only the first and the third activations still have oneffsets to process. The computation finishes in cycle 4 when the last oneffset of the third activation controls the shifters.</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div>
<div class="figure figure-full" id="fig8"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber8-p382-albericio-large.gif" data-fig-id="fig8"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber8-p382-albericio-small.gif" loading="lazy" alt="Figure 8: - Per-column synchronization example: one extra weight register and lx2 PIP array capable of processing two windows in parallel. The two numbers per brick show: the first from the top is the brick’s index, (0,1, 2) and $(0^{\prime}, 1^{\prime}, 2^{\prime})$ for the bricks of the first and second window. The second is the maximum count of oneffsets in its activations, (2, 4, 4) and (5, 2, 2) respectively. The numbers in the registers indicate the index of the corresponding bricks, i.e., a weight register containing a K stores the weights corresponding to activation bricks with indexes K and K’. In cycles 3 to 8, thicker lines indicate registers being loaded or wires being used."><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 8: </b><fig><p class="has-inline-formula"><b>Per-column synchronization example</b>: one extra weight register and lx2 PIP array capable of processing two windows in parallel. The two numbers per brick show: the first from the top is the brick’s index, (0,1, 2) and <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-64-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-780" style="width: 5.082em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.024em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.378em, 1003.92em, 2.754em, -999.997em); top: -2.325em; left: 0em;"><span class="mrow" id="MathJax-Span-781"><span class="mo" id="MathJax-Span-782" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-783"><span style="display: inline-block; position: relative; width: 0.796em; height: 0px;"><span style="position: absolute; clip: rect(3.177em, 1000.48em, 4.183em, -999.997em); top: -4.019em; left: 0em;"><span class="mn" id="MathJax-Span-784" style="font-family: MathJax_Main;">0</span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span><span style="position: absolute; top: -4.389em; left: 0.479em;"><span class="texatom" id="MathJax-Span-785"><span class="mrow" id="MathJax-Span-786"><span class="mi" id="MathJax-Span-787" style="font-size: 70.7%; font-family: MathJax_Main;">′</span></span></span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span></span></span><span class="mo" id="MathJax-Span-788" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-789" style="padding-left: 0.161em;"><span style="display: inline-block; position: relative; width: 0.796em; height: 0px;"><span style="position: absolute; clip: rect(3.177em, 1000.43em, 4.183em, -999.997em); top: -4.019em; left: 0em;"><span class="mn" id="MathJax-Span-790" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span><span style="position: absolute; top: -4.389em; left: 0.479em;"><span class="texatom" id="MathJax-Span-791"><span class="mrow" id="MathJax-Span-792"><span class="mi" id="MathJax-Span-793" style="font-size: 70.7%; font-family: MathJax_Main;">′</span></span></span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span></span></span><span class="mo" id="MathJax-Span-794" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-795" style="padding-left: 0.161em;"><span style="display: inline-block; position: relative; width: 0.796em; height: 0px;"><span style="position: absolute; clip: rect(3.177em, 1000.43em, 4.183em, -999.997em); top: -4.019em; left: 0em;"><span class="mn" id="MathJax-Span-796" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span><span style="position: absolute; top: -4.389em; left: 0.479em;"><span class="texatom" id="MathJax-Span-797"><span class="mrow" id="MathJax-Span-798"><span class="mi" id="MathJax-Span-799" style="font-size: 70.7%; font-family: MathJax_Main;">′</span></span></span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span></span></span><span class="mo" id="MathJax-Span-800" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.331em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.397em; border-left: 0px solid; width: 0px; height: 1.47em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-64">(0^{\prime}, 1^{\prime}, 2^{\prime})</script></tex-math></inline-formula> for the bricks of the first and second window. The second is the maximum count of oneffsets in its activations, (2, 4, 4) and (5, 2, 2) respectively. The numbers in the registers indicate the index of the corresponding bricks, i.e., a weight register containing a K stores the weights corresponding to activation bricks with indexes K and K’. In cycles 3 to 8, thicker lines indicate registers being loaded or wires being used.</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div><p></p></div></div><div class="section_2" id="sec5d"><h3>5.4 2-Stage Shifting</h3><p class="has-inline-formula">Any shift can be performed in two stages as two smaller shifts: <i>a</i> <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-65-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-801" style="width: 1.104em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.504em, 1000.95em, 2.405em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-802"><span class="mo" id="MathJax-Span-803" style="font-family: MathJax_Main;">≪</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.108em; border-left: 0px solid; width: 0px; height: 0.836em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-65">\ll</script></tex-math></inline-formula> <i>K</i> = <i>a</i> <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-66-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-804" style="width: 1.104em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.504em, 1000.95em, 2.405em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-805"><span class="mo" id="MathJax-Span-806" style="font-family: MathJax_Main;">≪</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.108em; border-left: 0px solid; width: 0px; height: 0.836em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-66">\ll</script></tex-math></inline-formula> (<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-67-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-807" style="width: 1.354em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.254em, 1001.2em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-808"><span class="msup" id="MathJax-Span-809"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-810" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.352em; left: 0.953em;"><span class="mo" id="MathJax-Span-811" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.947em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-67">K'</script></tex-math></inline-formula>+<i>C</i>) = ((<i>a</i> <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-68-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-812" style="width: 2.805em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.505em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.304em, 1002.5em, 2.405em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-813"><span class="mo" id="MathJax-Span-814" style="font-family: MathJax_Main;">≪</span><span class="msup" id="MathJax-Span-815" style="padding-left: 0.303em;"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-816" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.352em; left: 0.953em;"><span class="mo" id="MathJax-Span-817" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.108em; border-left: 0px solid; width: 0px; height: 1.058em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-68">\ll K'</script></tex-math></inline-formula>) <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-69-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-818" style="width: 1.104em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.504em, 1000.95em, 2.405em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-819"><span class="mo" id="MathJax-Span-820" style="font-family: MathJax_Main;">≪</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.108em; border-left: 0px solid; width: 0px; height: 0.836em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-69">\ll</script></tex-math></inline-formula> <i>C</i>). Thus, to shift and add <i>T</i> weights by different offsets <i>K<sub>0</sub></i>,, <i>K<sub>T</sub></i>, we can decompose the offsets into sums with a common term <i>C</i>, e.g., <i>K<sub>i</sub></i> = <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-70-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-821" style="width: 1.354em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.304em, 1001.2em, 2.605em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-822"><span class="msubsup" id="MathJax-Span-823"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-824" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.456em, 1000.25em, 4.107em, -999.997em); top: -4.302em; left: 0.953em;"><span class="mo" id="MathJax-Span-825" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1000.3em, 4.157em, -999.997em); top: -3.701em; left: 0.853em;"><span class="texatom" id="MathJax-Span-826"><span class="mrow" id="MathJax-Span-827"><span class="mi" id="MathJax-Span-828" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.225em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-70">K_{i}'</script></tex-math></inline-formula>+<i>C</i>. Accordingly, PIP processing can be rearranged using a two stage processing where the first stage uses the weight specific offsets <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-71-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-829" style="width: 1.354em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.304em, 1001.2em, 2.605em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-830"><span class="msubsup" id="MathJax-Span-831"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-832" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.456em, 1000.25em, 4.107em, -999.997em); top: -4.302em; left: 0.953em;"><span class="mo" id="MathJax-Span-833" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1000.3em, 4.157em, -999.997em); top: -3.701em; left: 0.853em;"><span class="texatom" id="MathJax-Span-834"><span class="mrow" id="MathJax-Span-835"><span class="mi" id="MathJax-Span-836" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.386em; border-left: 0px solid; width: 0px; height: 1.225em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-71">K_{i}'</script></tex-math></inline-formula>, and the second stage, the common across all weights offset <i>C</i>:
<disp-formula id="" class="display-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-72-Frame" tabindex="0" style="text-align: center;"><nobr><span class="math" id="MathJax-Span-837" style="width: 33.536em; display: inline-block;"><span style="display: inline-block; position: relative; width: 30.183em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.403em, 1030.18em, 5.458em, -999.997em); top: -2.3em; left: 0em;"><span class="mrow" id="MathJax-Span-838"><span class="munderover" id="MathJax-Span-839"><span style="display: inline-block; position: relative; width: 6.109em; height: 0px;"><span style="position: absolute; clip: rect(2.755em, 1006.11em, 6.709em, -999.997em); top: -4.652em; left: 0em;"><span class="texatom" id="MathJax-Span-840"><span class="mrow" id="MathJax-Span-841"><span class="munderover" id="MathJax-Span-842"><span style="display: inline-block; position: relative; width: 6.109em; height: 0px;"><span style="position: absolute; clip: rect(2.105em, 1006.01em, 5.358em, -999.997em); top: -4.002em; left: 0.003em;"><span class="mrow" id="MathJax-Span-843"><span class="munderover" id="MathJax-Span-844"><span style="display: inline-block; position: relative; width: 1.454em; height: 0px;"><span style="position: absolute; clip: rect(2.905em, 1001.4em, 4.607em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-845" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1000.2em, 4.257em, -999.997em); top: -2.9em; left: 0.603em;"><span class="texatom" id="MathJax-Span-846"><span class="mrow" id="MathJax-Span-847"><span class="mi" id="MathJax-Span-848" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.256em, 1000.5em, 4.157em, -999.997em); top: -5.153em; left: 0.453em;"><span class="texatom" id="MathJax-Span-849"><span class="mrow" id="MathJax-Span-850"><span class="mi" id="MathJax-Span-851" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mrow" id="MathJax-Span-852" style="padding-left: 0.153em;"><span class="mo" id="MathJax-Span-853" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-854"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.65em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-855" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.603em;"><span class="texatom" id="MathJax-Span-856"><span class="mrow" id="MathJax-Span-857"><span class="mi" id="MathJax-Span-858" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-859" style="font-family: MathJax_Main; padding-left: 0.303em;">≪</span><span class="msubsup" id="MathJax-Span-860" style="padding-left: 0.303em;"><span style="display: inline-block; position: relative; width: 1.154em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-861" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.853em;"><span class="texatom" id="MathJax-Span-862"><span class="mrow" id="MathJax-Span-863"><span class="mi" id="MathJax-Span-864" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-865" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(1.854em, 1006.11em, 2.705em, -999.997em); top: -0.648em; left: 0em;"><span class="mo" id="MathJax-Span-866" style=""><span style="display: inline-block; position: relative; width: 6.109em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 5.658em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 2.605em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.403em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.803em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.154em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.504em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.854em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.255em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.456em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.806em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.157em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.557em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.907em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 5.258em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.355em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.657em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1004.96em, 4.407em, -999.997em); top: -1.399em; left: 0.603em;"><span class="texatom" id="MathJax-Span-867"><span class="mrow" id="MathJax-Span-868"><span class="mn" id="MathJax-Span-869" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-870" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mtext" id="MathJax-Span-871" style="font-size: 70.7%; font-family: MathJax_Main;">stage shifting</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-872" style="font-family: MathJax_Main; padding-left: 0.303em;">=</span><span class="munderover" id="MathJax-Span-873" style="padding-left: 0.303em;"><span style="display: inline-block; position: relative; width: 1.454em; height: 0px;"><span style="position: absolute; clip: rect(2.905em, 1001.4em, 4.607em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-874" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1000.2em, 4.257em, -999.997em); top: -2.9em; left: 0.603em;"><span class="texatom" id="MathJax-Span-875"><span class="mrow" id="MathJax-Span-876"><span class="mi" id="MathJax-Span-877" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.256em, 1000.5em, 4.157em, -999.997em); top: -5.153em; left: 0.453em;"><span class="texatom" id="MathJax-Span-878"><span class="mrow" id="MathJax-Span-879"><span class="mi" id="MathJax-Span-880" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mrow" id="MathJax-Span-881" style="padding-left: 0.153em;"><span class="mo" id="MathJax-Span-882" style="vertical-align: 0em;"><span style="font-family: MathJax_Size1;">(</span></span><span class="msubsup" id="MathJax-Span-883"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.65em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-884" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.603em;"><span class="texatom" id="MathJax-Span-885"><span class="mrow" id="MathJax-Span-886"><span class="mi" id="MathJax-Span-887" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-888" style="font-family: MathJax_Main; padding-left: 0.303em;">≪</span><span class="mrow" id="MathJax-Span-889" style="padding-left: 0.303em;"><span class="mo" id="MathJax-Span-890" style="vertical-align: 0em;"><span style="font-family: MathJax_Size1;">(</span></span><span class="msubsup" id="MathJax-Span-891"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-892" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.456em, 1000.25em, 4.107em, -999.997em); top: -4.302em; left: 0.953em;"><span class="texatom" id="MathJax-Span-893"><span class="mrow" id="MathJax-Span-894"><span class="mi" id="MathJax-Span-895" style="font-size: 70.7%; font-family: MathJax_Main;">′</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1000.3em, 4.157em, -999.997em); top: -3.701em; left: 0.853em;"><span class="texatom" id="MathJax-Span-896"><span class="mrow" id="MathJax-Span-897"><span class="mi" id="MathJax-Span-898" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-899" style="font-family: MathJax_Main; padding-left: 0.203em;">+</span><span class="mi" id="MathJax-Span-900" style="font-family: MathJax_Math-italic; padding-left: 0.203em;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-901" style="vertical-align: 0em;"><span style="font-family: MathJax_Size1;">)</span></span></span><span class="mo" id="MathJax-Span-902" style="vertical-align: 0em;"><span style="font-family: MathJax_Size1;">)</span></span></span><span class="mo" id="MathJax-Span-903" style="font-family: MathJax_Main; padding-left: 0.303em;">=<span style="font-family: MathJax_Main;">=</span></span><span class="munderover" id="MathJax-Span-904" style="padding-left: 0.303em;"><span style="display: inline-block; position: relative; width: 7.91em; height: 0px;"><span style="position: absolute; clip: rect(2.805em, 1007.91em, 6.809em, -999.997em); top: -4.702em; left: 0em;"><span class="texatom" id="MathJax-Span-905"><span class="mrow" id="MathJax-Span-906"><span class="munderover" id="MathJax-Span-907"><span style="display: inline-block; position: relative; width: 7.91em; height: 0px;"><span style="position: absolute; clip: rect(2.105em, 1007.61em, 5.408em, -999.997em); top: -4.002em; left: 0.003em;"><span class="mrow" id="MathJax-Span-908"><span class="mo" id="MathJax-Span-909" style="vertical-align: 0em;"><span style="font-family: MathJax_Size4;">(</span></span><span class="munderover" id="MathJax-Span-910"><span style="display: inline-block; position: relative; width: 1.454em; height: 0px;"><span style="position: absolute; clip: rect(2.905em, 1001.4em, 4.607em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-911" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1000.2em, 4.257em, -999.997em); top: -2.9em; left: 0.603em;"><span class="texatom" id="MathJax-Span-912"><span class="mrow" id="MathJax-Span-913"><span class="mi" id="MathJax-Span-914" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.256em, 1000.5em, 4.157em, -999.997em); top: -5.153em; left: 0.453em;"><span class="texatom" id="MathJax-Span-915"><span class="mrow" id="MathJax-Span-916"><span class="mi" id="MathJax-Span-917" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mrow" id="MathJax-Span-918" style="padding-left: 0.153em;"><span class="mo" id="MathJax-Span-919" style="vertical-align: 0em;"><span style="font-family: MathJax_Size1;">(</span></span><span class="msubsup" id="MathJax-Span-920"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.65em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-921" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.851em; left: 0.603em;"><span class="texatom" id="MathJax-Span-922"><span class="mrow" id="MathJax-Span-923"><span class="mi" id="MathJax-Span-924" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-925" style="font-family: MathJax_Main; padding-left: 0.303em;">≪</span><span class="msubsup" id="MathJax-Span-926" style="padding-left: 0.303em;"><span style="display: inline-block; position: relative; width: 1.204em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.9em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-927" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.456em, 1000.25em, 4.107em, -999.997em); top: -4.302em; left: 0.953em;"><span class="texatom" id="MathJax-Span-928"><span class="mrow" id="MathJax-Span-929"><span class="mi" id="MathJax-Span-930" style="font-size: 70.7%; font-family: MathJax_Main;">′</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1000.3em, 4.157em, -999.997em); top: -3.701em; left: 0.853em;"><span class="texatom" id="MathJax-Span-931"><span class="mrow" id="MathJax-Span-932"><span class="mi" id="MathJax-Span-933" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-934" style="vertical-align: 0em;"><span style="font-family: MathJax_Size1;">)</span></span></span><span class="mo" id="MathJax-Span-935" style="vertical-align: 0em;"><span style="font-family: MathJax_Size4;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(1.854em, 1007.91em, 2.705em, -999.997em); top: -0.598em; left: 0em;"><span class="mo" id="MathJax-Span-936" style=""><span style="display: inline-block; position: relative; width: 7.91em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 7.41em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 3.506em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.403em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.753em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.104em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.404em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.754em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.105em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.455em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 2.805em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 3.156em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.307em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 4.657em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 5.008em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 5.358em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 5.708em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 6.009em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 6.359em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 6.709em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 7.06em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.355em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.707em;"></span></span><span style="position: absolute; clip: rect(3.256em, 1002.36em, 4.407em, -999.997em); top: -1.249em; left: 2.755em;"><span class="texatom" id="MathJax-Span-937"><span class="mrow" id="MathJax-Span-938"><span class="msubsup" id="MathJax-Span-939"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.3em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-940" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.302em; left: 0.353em;"><span class="texatom" id="MathJax-Span-941"><span class="mrow" id="MathJax-Span-942"><span class="mi" id="MathJax-Span-943" style="font-size: 50%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-944" style="font-size: 50%; font-family: MathJax_Math-italic;">t</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mtext" id="MathJax-Span-945" style="font-size: 70.7%; font-family: MathJax_Main;">stage</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-946"><span style="display: inline-block; position: relative; width: 1.354em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-947" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.402em; left: 0.503em;"><span class="texatom" id="MathJax-Span-948"><span class="mrow" id="MathJax-Span-949"><span class="mi" id="MathJax-Span-950" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-951" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="munderover" id="MathJax-Span-952"><span style="display: inline-block; position: relative; width: 2.105em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1002.11em, 4.957em, -999.997em); top: -4.002em; left: 0em;"><span class="texatom" id="MathJax-Span-953"><span class="mrow" id="MathJax-Span-954"><span class="munderover" id="MathJax-Span-955"><span style="display: inline-block; position: relative; width: 2.105em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1002.05em, 4.207em, -999.997em); top: -4.002em; left: 0.003em;"><span class="mrow" id="MathJax-Span-956"><span class="mo" id="MathJax-Span-957" style="font-family: MathJax_Main;">≪</span><span class="mi" id="MathJax-Span-958" style="font-family: MathJax_Math-italic; padding-left: 0.303em;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(1.854em, 1002.11em, 2.705em, -999.997em); top: -1.749em; left: -0.048em;"><span class="mo" id="MathJax-Span-959" style=""><span style="display: inline-block; position: relative; width: 2.105em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 0.003em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 1.604em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -4.002em; left: 0.603em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 0.303em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -4.002em; left: 1.354em;"><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.355em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.406em, 1001.75em, 4.407em, -999.997em); top: -2.6em; left: 0.103em;"><span class="texatom" id="MathJax-Span-960"><span class="mrow" id="MathJax-Span-961"><span class="mtext" id="MathJax-Span-962" style="font-size: 70.7%; font-family: MathJax_Main;">&nbsp;stage&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.305em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -3.386em; border-left: 0px solid; width: 0px; height: 5.336em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-72">\begin{equation*}\underbrace { \sum _ { i } ^ { T } \left( S _ { i } \ll K _ { i } \right) } _ { 1 - \text {stage shifting} }= \sum _ { i } ^ { T } \left( S _ { i } \ll \left( K _ { i } ^ { \prime } + C \right) \right) == \underbrace { \left( \sum _ { i } ^ { T } \left( S _ { i } \ll K _ { i } ^ { \prime } \right) \right) } _ { 1 ^ { s t } \text {stage} } 2 ^ { n d } \underbrace { \ll C } _ { \text { stage } }\end{equation*}</script></tex-math><span class="formula"><span class="link">View Source</span><img class="document-ft-image" aria-describedby="qtip-0" style="display:inline;" title="Right-click on figure or equation for MathML and additional features." data-hasqtip="0" alt="Right-click on figure for MathML and additional features." src="/assets/img/icon.support.gif" border="0" height="20" width="24"><span class="tex tex2jax_ignore" style="display:none;">\begin{equation*}\underbrace { \sum _ { i } ^ { T } \left( S _ { i } \ll K _ { i } \right) } _ { 1 - \text {stage shifting} }= \sum _ { i } ^ { T } \left( S _ { i } \ll \left( K _ { i } ^ { \prime } + C \right) \right) == \underbrace { \left( \sum _ { i } ^ { T } \left( S _ { i } \ll K _ { i } ^ { \prime } \right) \right) } _ { 1 ^ { s t } \text {stage} } 2 ^ { n d } \underbrace { \ll C } _ { \text { stage } }\end{equation*}</span></span></disp-formula></p><p class="has-inline-formula">This arrangement can be used to reduce the width of the weight shifters and of the adder tree by sharing one common shifter after the adder tree as <a ref-type="fig" anchor="fig7" class="fulltext-link">Figure 7a</a> shows. A design parameter, <i>L</i>, defines the number of bits controlling the weight shifters. Meaning the design can process oneffsets which differ by less than <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-73-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-963" style="width: 1.204em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.054em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.104em, 1001.05em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-964"><span class="msubsup" id="MathJax-Span-965"><span style="display: inline-block; position: relative; width: 1.054em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-966" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.402em; left: 0.503em;"><span class="texatom" id="MathJax-Span-967"><span class="mrow" id="MathJax-Span-968"><span class="mi" id="MathJax-Span-969" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 1.114em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-73">2^{L}</script></tex-math></inline-formula> in a single cycle. This reduces the size of the weight shifters and reduces the size of the adder tree to support terms of 16+<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-74-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-970" style="width: 1.204em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.054em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.104em, 1001.05em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-971"><span class="msubsup" id="MathJax-Span-972"><span style="display: inline-block; position: relative; width: 1.054em; height: 0px;"><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mn" id="MathJax-Span-973" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.402em; left: 0.503em;"><span class="texatom" id="MathJax-Span-974"><span class="mrow" id="MathJax-Span-975"><span class="mi" id="MathJax-Span-976" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 1.114em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-74">2^{L}</script></tex-math></inline-formula> - 1 bits only. As <a ref-type="sec" anchor="sec6b" class="fulltext-link">Section 6.2</a> shows, this design reduces the area of the shifters and the adder trees which are the largest components of the PIP. <a ref-type="fig" anchor="fig7" class="fulltext-link">Figure 7b</a> shows an example illustrating how this PIP can handle any combination of oneffsets. <a ref-type="sec" anchor="sec6b" class="fulltext-link">Section 6.2</a> studies the impact of <i>L</i> on cost and performance.</p></div><div class="section_2" id="sec5e"><h3>5.5 Per-Column Activation Lane Synchronization</h3><p>The pallet activation lane synchronization scheme of <a ref-type="sec" anchor="sec5a4" class="fulltext-link">Section 5.1.4</a> is one of many possible synchronization schemes. Finer-grain activation lane synchronization schemes are possible leading to higher performance albeit at a cost. This section presents <i>per column</i> activation lane synchronization, an appealing scheme that, as <a ref-type="sec" anchor="sec6c" class="fulltext-link">Section 6.3</a> shows, enhances performance at little additional cost.</p><p>Here each PIP column operates independently but all the PIPs along the same column wait for the activation with the most essential bits before proceeding to the next activation brick. Since the PIPs along the same column operate in sync, they all process one set of16 weight bricks which can be read using the existing SB interface. However, given that different PIP columns operate now out-of-sync, the same weight bricks would need to be read multiple times, leading to the following challenges: 1) different PIP columns may need to perform two independent SB reads while there are only one SB port and one common bus connecting the PIP array to the SB, and 2) there will be repeat accesses to SB that will increase SB energy, while the SB is already a major contributor of energy consumption.</p><p><i>Pragmatic</i> address these challenges as follows: 1) only one SB access can proceed per cycle thus a PIP column may need to wait when collisions occur. This way, <i>PRA</i> does not need an extra SB read port nor an extra set of 4K wires from the SB to the PIP array. 2) A set of SRAM registers, or <i>weight set registers</i> (WSRs) are introduced in front of the SB each holding a recently read set of 16 weight bricks. Since all PIP columns will eventually need the same set of weight bricks, temporarily buffering them avoids fetching them repeatedly from the SB reducing energy costs. Once a weight set has been read into an WSR, it stays there until all PIP columns have copied it (a 4-bit down counter is sufficient for tracking how many PIP columns have yet to read the weight set). This policy guarantees that the SB is accessed the same number of times as in <i>DaDN</i>. However, stalls may happen as a PIP column has to be able to store a new set of weights into an WSR when it reads it from the SB. <a ref-type="fig" anchor="fig8" class="fulltext-link">Figure 8</a> shows an example. <a ref-type="sec" anchor="sec6c" class="fulltext-link">Section 6.3</a> evaluates this design.</p><p>Since each activation lane advances independently, in the worst case, the dispatcher may need to fetch 16 independent activation bricks each from a different pallet. The Dispatcher can buffer those pallets to avoid repeated NM accesses, which would, at worst, require a 256 pallet buffer. However, given that the number WSRs restricts how far apart the PIP columns can be, and since <a ref-type="sec" anchor="sec6c" class="fulltext-link">Section 6.3</a> shows that only one WSR is sufficient, a two pallet buffer in the dispatcher is all that is needed.</p></div><div class="section_2" id="sec5f"><h3>5.6 Improved Oneffset Encoding</h3><p>Since PIPs in <i>Pragmatic</i> can negate any input term, it is possible to enhance the oneffset generator to generate fewer oneffsets for activation values containing runs of ones by allowing signed oneffsets <a ref-type="bibr" anchor="ref4" id="context_ref_4_5f" data-range="ref4">[4]</a>.</p><p class="has-inline-formula">This improved generator reduces runs of adjacent oneffsets <i>a</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-75-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-977" style="width: 1.304em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.154em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.954em, 1001.05em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-978"><span class="mo" id="MathJax-Span-979" style="font-family: MathJax_Main;">…</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.225em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-75">\ldots</script></tex-math></inline-formula><i>b</i> into pairs of the form <i>a</i>+ 1, -<i>b</i>. Single oneffsets or gaps inside runs are represented by a positive or negative oneffset, respectively. For example an activation value of 11011 that would normally be encoded with oneffsets (4, 3, 1, 0) can instead be represented with (5, -3, +2, -0) or even more economically with (5, -2, -0). This is equivalent to a Radix -4 Booth encoding and will never emit more than <inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-76-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-980" style="width: 4.207em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.756em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.703em, 1003.61em, 3.056em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-981"><span class="mstyle" id="MathJax-Span-982"><span class="mrow" id="MathJax-Span-983"><span class="mo" id="MathJax-Span-984" style="font-family: MathJax_Main;">⌊</span><span class="mfrac" id="MathJax-Span-985"><span style="display: inline-block; position: relative; width: 0.953em; height: 0px; margin-right: 0.103em; margin-left: 0.103em;"><span style="position: absolute; clip: rect(3.156em, 1000.85em, 4.157em, -999.997em); top: -4.702em; left: 50%; margin-left: -0.448em;"><span class="mi" id="MathJax-Span-986" style="font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.206em, 1000.45em, 4.157em, -999.997em); top: -3.301em; left: 50%; margin-left: -0.248em;"><span class="mn" id="MathJax-Span-987" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.853em, 1000.95em, 1.204em, -999.997em); top: -1.249em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.953em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.054em;"></span></span></span></span><span class="mo" id="MathJax-Span-988" style="font-family: MathJax_Main; padding-left: 0.203em;">+</span><span class="mn" id="MathJax-Span-989" style="font-family: MathJax_Main; padding-left: 0.203em;">1</span><span class="mo" id="MathJax-Span-990" style="font-family: MathJax_Main;">⌋</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.831em; border-left: 0px solid; width: 0px; height: 2.392em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-76">\displaystyle \lfloor\frac{X}{2}+1\rfloor</script></tex-math></inline-formula> oneffsets, where <i>x</i> is the activation precision.</p><p>This encoding will never produce more oneffsets compared to the baseline encoding. However, this encoding may increase the number of cycles needed when the oneffset distribution among the bit groups being processed together due to the 2-stage shiffing technique.</p></div><div class="section_2" id="sec5g"><h3>5.7 Reduced Precision Profiling</h3><p><i>PRA</i> enables an additional dimension upon which hardware and software can attempt to further boost performance and energy efficiency, that of controlling the essential activation value content. This work investigates a software guided approach where the precision requirements of each layer are used to zero out the statically ineffectual bits at the output of each layer. Using the profiling method of Judd <i>et al</i>., <a ref-type="bibr" anchor="ref17" id="context_ref_17_5g" data-range="ref17">[17]</a>, software communicates the precisions needed by each layer as meta-data. The hardware trims the output activations before writing them to NM using AND gates and precision derived bit masks.
</p><div class="figure figure-full table" id="table2"><div class="figcaption"><b class="title">Table II </b>: Per Layer Activation Precision Profiles.</div><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t2-p382-albericio-large.gif"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t2-p382-albericio-small.gif" loading="lazy" alt="Table II- : Per Layer Activation Precision Profiles."><div class="zoom" title="View Larger Image"></div></a></div></div><p></p></div></div>
<div class="section" id="sec6"><div class="header article-hdr"><div class="kicker">
                                SECTION 6</div><h2>Evaluation</h2></div><p>The performance, area, and energy efficiency of <i>Pragmatic</i> is compared against <i>DaDN</i> <a ref-type="bibr" anchor="ref5" id="context_ref_5_6" data-range="ref5">[5]</a> and <i>Stripes</i> <a ref-type="bibr" anchor="ref19" id="context_ref_19_6" data-range="ref19">[19]</a>. <i>DaDN</i> is a bit-parallel accelerator that processes all activation regardless of their values and the <i>de facto</i> standard for reporting the relative performance of DNN accelerators. <i>STR</i> improves upon <i>DaDN</i> by exploiting the per layer precision requirements of DNNs.</p><p>The rest of this section is organized as follows: <a ref-type="sec" anchor="sec6a" class="fulltext-link">Section 6.1</a> presents the experimental methodology. <a ref-type="sec" anchor="sec6b" class="fulltext-link">Sections 6.2</a> and <a ref-type="sec" anchor="sec6c" class="fulltext-link">6.3</a> explore the <i>PRA</i> design space considering respectively single- and 2-stage shifting configurations, and column synchronization. <a ref-type="sec" anchor="sec6d" class="fulltext-link">Section 6.4</a> evaluates the benefit of improved offset encoding. <a ref-type="sec" anchor="sec6e" class="fulltext-link">Section 6.5</a> reports energy efficiency for the best configuration. Finally, <a ref-type="sec" anchor="sec6g" class="fulltext-link">Section 6.7</a> reports performance for designs using an 8-bit quantized representation.</p><div class="section_2" id="sec6a"><h3>6.1 Methodology</h3><p>All systems were modelled using the same methodology for consistency. A custom cycle-level simulator models execution time. Computation was scheduled such that all designs see the same reuse of weights and thus the same SB read energy. To estimate power and area, all tile pipeline designs were synthesized with the Synopsys Design Compiler <a ref-type="bibr" anchor="ref27" id="context_ref_27_6a" data-range="ref27">[27]</a> for a TSMC 65nm library and laid out with Cadence Encounter. Circuit activity was captured with Mentor Graphics ModelSim and fed into Encounter for power estimation. The NBin and NBout SRAM buffers were modelled using CACTI <a ref-type="bibr" anchor="ref22" id="context_ref_22_6a" data-range="ref22">[22]</a>. The eDRAM area and energy were modelled with <i>Destiny</i> <a ref-type="bibr" anchor="ref25" id="context_ref_25_6a" data-range="ref25">[25]</a>. To compare against <i>STR</i>, the per layer numerical representation requirements reported in <a ref-type="table" anchor="table2" class="fulltext-link">Table 2</a> were found using the methodology of Judd et al. <a ref-type="bibr" anchor="ref19" id="context_ref_19_6a" data-range="ref19">[19]</a>. All performance measurements are for the convolutional layers only which account for more than 92% of the computation in the networks we consider.</p></div><div class="section_2" id="sec6b"><h3>6.2 Single- and 2-Stage Shifting</h3><p>This section evaluates the single-stage shifting <i>PRA</i> configuration of <a ref-type="sec" anchor="sec5a" class="fulltext-link">Sections 5.1</a> and <a ref-type="sec" anchor="sec5b" class="fulltext-link">5.2</a>, and the 2-stage shifting variants of <a ref-type="sec" anchor="sec5d" class="fulltext-link">Section 5.4</a>. <a ref-type="sec" anchor="sec6b1" class="fulltext-link">Section 6.2.1</a> reports performance while <a ref-type="sec" anchor="sec6b2" class="fulltext-link">Section 6.2.2</a> reports area and power. In this section, All <i>PRA</i> systems use pallet synchronization.
</p><div class="figure figure-full" id="fig9"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber9-p382-albericio-large.gif" data-fig-id="fig9"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber9-p382-albericio-small.gif" loading="lazy" alt="Figure 9: - 2-stage shifting and per-pallet synchronization: Pragmatic performance relative to DaDianNao."><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 9: </b><fig><p>2-stage shifting and per-pallet synchronization: <i>Pragmatic</i> performance relative to <i>DaDianNao</i>.</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div>
<div class="figure figure-full table" id="table3"><div class="figcaption"><b class="title">Table III </b>: Area [Mm2] and Power [W] For the Unit and the Whole Chip. Pallet Synchronization.</div><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t3-p382-albericio-large.gif"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t3-p382-albericio-small.gif" loading="lazy" alt="Table III- : Area [Mm2] and Power [W] For the Unit and the Whole Chip. Pallet Synchronization."><div class="zoom" title="View Larger Image"></div></a></div></div><p></p><div class="section_2" id="sec6b1"><h4>6.2.1 Performance:</h4><p><a ref-type="fig" anchor="fig9" class="fulltext-link">Figure 9</a> shows the performance of <i>STR</i> (left-most bars) and <i>of PRA</i> variants relative to <i>DaDN</i>. The <i>PRA</i> systems are labelled with the number of bits used to operate the first-stage, weight shifters, e.g., the weight shifters of “<i>2-bit</i>”, or <i>PRA<sub>2b</sub></i>, are able to shift to four bit positions (0-3). “4-bit” or <i>PRA<sub>4b</sub></i>, is the single-stage <i>Pragmatic</i>, or <i><i>PRA<sub>single</sub></i></i> of <a ref-type="sec" anchor="sec5a" class="fulltext-link">Sections 5.1</a> and <a ref-type="sec" anchor="sec5b" class="fulltext-link">5.2</a> whose weight shifters can shift to 16 bit positions (0-15). It has no second stage shifter.</p><p class="has-inline-formula"><i><i>PRA<sub>single</sub></i></i> improves performance by 2.59<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-77-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-991" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-992"><span class="mo" id="MathJax-Span-993" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-77">\times</script></tex-math></inline-formula> on average over <i>DaDN</i> compared to the 1.85<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-78-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-994" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-995"><span class="mo" id="MathJax-Span-996" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-78">\times</script></tex-math></inline-formula> average improvement with <i>STR</i>. Performance improvements over <i>DaDN</i> vary from 2.11<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-79-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-997" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-998"><span class="mo" id="MathJax-Span-999" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-79">\times</script></tex-math></inline-formula> for VGG19 to 2.97<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-80-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1000" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-1001"><span class="mo" id="MathJax-Span-1002" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-80">\times</script></tex-math></inline-formula> for VGGM. The 2-stage <i>PRA</i> variants offer slightly lower performance than <i><i>PRA<sub>single</sub></i></i>, however, performance with <i>PRA<sub>2b</sub></i> and <i>PRA<sub>3b</sub></i> is always within 0.01% of<i><i>PRA<sub>single</sub></i></i>. Even <i>PRA<sub>0b</sub></i> which does not include any weight shifters outperforms <i>STR</i> by 16% on average. Given a set of oneffsets, <i>PRA<sub>0b</sub></i> will accommodate the minimum non-zero oneffset per cycle via its second level shifter.</p></div><div class="section_2" id="sec6b2"><h4>6.2.2 Area and Power:</h4><p class="has-inline-formula"><a ref-type="table" anchor="table3" class="fulltext-link">Table 3</a> shows area and power for <i>DaDN</i> and <i>Pragmatic</i>. Two measurements are reported: 1) for the unit excluding the SB, NBin and NBout memory blocks, and 2) for the whole chip comprising 16 units and all memory blocks. Since SB and NM dominate chip area, the compute area overheads are relatively small. <i>PRA<sub>2b</sub></i> is the most efficient configuration with an average speedup of 2.59<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-81-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1003" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-1004"><span class="mo" id="MathJax-Span-1005" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-81">\times</script></tex-math></inline-formula> for an area and power cost of 1.68<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-82-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1006" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-1007"><span class="mo" id="MathJax-Span-1008" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-82">\times</script></tex-math></inline-formula> and 2.50<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-83-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1009" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-1010"><span class="mo" id="MathJax-Span-1011" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-83">\times</script></tex-math></inline-formula>, respectively, over <i>DaDN</i>. Accordingly, the rest of this evaluation restricts attention to this configuration.
</p><div class="figure figure-full" id="fig10"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber10-p382-albericio-large.gif" data-fig-id="fig10"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber10-p382-albericio-small.gif" loading="lazy" alt="Figure 10: - Column Synchronization: Relative performance of PRA2b as a function of the SB registers used."><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 10: </b><fig><p>Column Synchronization: Relative performance of PRA<sub>2b</sub> as a function of the SB registers used.</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div>
<div class="figure figure-full table" id="table4"><div class="figcaption"><b class="title">Table IV </b>: Area [Mm2] and Power [W] For the Unit and the Whole Chip For Column Synchronization and Pra2B.</div><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t4-p382-albericio-large.gif"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t4-p382-albericio-small.gif" loading="lazy" alt="Table IV- : Area [Mm2] and Power [W] For the Unit and the Whole Chip For Column Synchronization and Pra2B."><div class="zoom" title="View Larger Image"></div></a></div></div>
<div class="figure figure-full table" id="table5"><div class="figcaption"><b class="title">Table V </b>: Pra<span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-84-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1012" style="width: 1.22em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.955em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.22em, 1000.96em, 2.701em, -999.997em); top: -2.22em; left: 0em;"><span class="mrow" id="MathJax-Span-1013"><span class="msubsup" id="MathJax-Span-1014"><span style="display: inline-block; position: relative; width: 0.955em; height: 0px;"><span style="position: absolute; clip: rect(3.865em, 1000em, 4.183em, -999.997em); top: -4.019em; left: 0em;"><span class="mi" id="MathJax-Span-1015"></span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span><span style="position: absolute; clip: rect(3.389em, 1000.96em, 4.183em, -999.997em); top: -4.389em; left: 0em;"><span class="texatom" id="MathJax-Span-1016"><span class="mrow" id="MathJax-Span-1017"><span class="mn" id="MathJax-Span-1018" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mi" id="MathJax-Span-1019" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span></span></span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span><span style="position: absolute; clip: rect(3.389em, 1000.74em, 4.183em, -999.997em); top: -3.701em; left: 0em;"><span class="texatom" id="MathJax-Span-1020"><span class="mrow" id="MathJax-Span-1021"><span class="mn" id="MathJax-Span-1022" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-1023" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.225em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.463em; border-left: 0px solid; width: 0px; height: 1.603em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-84">_{2b}^{1R}</script>: Area [<span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-85-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1024" style="width: 2.807em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.225em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.272em, 1002.23em, 2.437em, -999.997em); top: -2.272em; left: 0em;"><span class="mrow" id="MathJax-Span-1025"><span class="mi" id="MathJax-Span-1026" style="font-family: MathJax_Math-italic;">m</span><span class="msubsup" id="MathJax-Span-1027"><span style="display: inline-block; position: relative; width: 1.325em; height: 0px;"><span style="position: absolute; clip: rect(3.442em, 1000.85em, 4.183em, -999.997em); top: -4.019em; left: 0em;"><span class="mi" id="MathJax-Span-1028" style="font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span><span style="position: absolute; top: -4.389em; left: 0.902em;"><span class="texatom" id="MathJax-Span-1029"><span class="mrow" id="MathJax-Span-1030"><span class="mn" id="MathJax-Span-1031" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.278em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.063em; border-left: 0px solid; width: 0px; height: 1.203em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-85">mm^{2}</script>] and Power [W] Breakdown.</div><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t5-p382-albericio-large.gif"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t5-p382-albericio-small.gif" loading="lazy" alt="Table V- : Pra$_{2b}^{1R}$: Area [$mm^{2}$] and Power [W] Breakdown."><div class="zoom" title="View Larger Image"></div></a></div></div><p></p><p class="has-inline-formula">The offset generators for one tile in this configuration requires 181,950 <i>u</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-86-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1032" style="width: 1.454em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.304em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.3em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-1033"><span class="msubsup" id="MathJax-Span-1034"><span style="display: inline-block; position: relative; width: 1.304em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.85em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-1035" style="font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.352em; left: 0.903em;"><span class="texatom" id="MathJax-Span-1036"><span class="mrow" id="MathJax-Span-1037"><span class="mn" id="MathJax-Span-1038" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 1.058em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-86">m^{2}</script></tex-math></inline-formula>, 35.8 <i>mW</i> and adds two stages to the compute pipeline. The average wire density across all metal layers is 11.1% for DaDN and 26.6% for <i>PRA</i>. Comparing post synthesis and post layout power reports, wiring increases power by 17.0% in DaDN and 22.5% in <i>PRA</i>.</p></div></div><div class="section_2" id="sec6c"><h3>6.3 Per-Column Synchronization</h3><div class="section_2" id="sec6c1"><h4>6.3.1 Performance:</h4><p class="has-inline-formula"><a ref-type="fig" anchor="fig10" class="fulltext-link">Figure 10</a> reports the relative to <i>DaDN</i> performance for <i>PRA<sub>2b</sub></i> with column synchronization and as a function of the number of WSRs as per <a ref-type="sec" anchor="sec5" class="fulltext-link">Section 5</a>.5. Configuration <i>PR</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-87-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1039" style="width: 1.954em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.754em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.75em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-1040"><span class="msubsup" id="MathJax-Span-1041"><span style="display: inline-block; position: relative; width: 1.754em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-1042" style="font-family: MathJax_Math-italic;">A</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1001em, 4.157em, -999.997em); top: -4.352em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1043"><span class="mrow" id="MathJax-Span-1044"><span class="mi" id="MathJax-Span-1045" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mi" id="MathJax-Span-1046" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.75em, 4.157em, -999.997em); top: -3.651em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1047"><span class="mrow" id="MathJax-Span-1048"><span class="mn" id="MathJax-Span-1049" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-1050" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-87">A_{2b}^{xR}</script></tex-math></inline-formula> refers to a configuration using <i>x</i> WSRs. Even <i>PR</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-88-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1051" style="width: 1.904em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.7em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-1052"><span class="msubsup" id="MathJax-Span-1053"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-1054" style="font-family: MathJax_Math-italic;">A</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.95em, 4.157em, -999.997em); top: -4.352em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1055"><span class="mrow" id="MathJax-Span-1056"><span class="mn" id="MathJax-Span-1057" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mi" id="MathJax-Span-1058" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.75em, 4.157em, -999.997em); top: -3.651em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1059"><span class="mrow" id="MathJax-Span-1060"><span class="mn" id="MathJax-Span-1061" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-1062" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-88">A_{2b}^{1R}</script></tex-math></inline-formula> boosts performance to 3.06<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-89-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1063" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-1064"><span class="mo" id="MathJax-Span-1065" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-89">\times</script></tex-math></inline-formula> on average, close to the 3.45<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-90-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1066" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-1067"><span class="mo" id="MathJax-Span-1068" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-90">\times</script></tex-math></inline-formula> that is ideally possible with <i>PR</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-91-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1069" style="width: 2.305em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.055em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1002.05em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-1070"><span class="msubsup" id="MathJax-Span-1071"><span style="display: inline-block; position: relative; width: 2.055em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-1072" style="font-family: MathJax_Math-italic;">A</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1001.3em, 4.157em, -999.997em); top: -4.352em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1073"><span class="mrow" id="MathJax-Span-1074"><span class="mi" id="MathJax-Span-1075" style="font-size: 70.7%; font-family: MathJax_Main;">∞</span><span class="mi" id="MathJax-Span-1076" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.75em, 4.157em, -999.997em); top: -3.651em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1077"><span class="mrow" id="MathJax-Span-1078"><span class="mn" id="MathJax-Span-1079" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-1080" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-91">A_{2b}^{\infty R}</script></tex-math></inline-formula>.
</p><div class="figure figure-full" id="fig11"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber11-p382-albericio-large.gif" data-fig-id="fig11"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber11-p382-albericio-small.gif" loading="lazy" alt="Figure 11: - Relative performance of Pragmatic using Improved Oneffset Encoding for different configurations. Marked: performance not using IOE"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 11: </b><fig><p>Relative performance of <i>Pragmatic</i> using Improved Oneffset Encoding for different configurations. Marked: performance not using IOE</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div><p></p></div><div class="section_2" id="sec6c2"><h4>6.3.2 Area and Power:</h4><p class="has-inline-formula"><a ref-type="table" anchor="table4" class="fulltext-link">Table 4</a> reports the area per unit, and the area and power per chip. <i>PR</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-92-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1081" style="width: 1.904em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.7em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-1082"><span class="msubsup" id="MathJax-Span-1083"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-1084" style="font-family: MathJax_Math-italic;">A</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.95em, 4.157em, -999.997em); top: -4.352em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1085"><span class="mrow" id="MathJax-Span-1086"><span class="mn" id="MathJax-Span-1087" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mi" id="MathJax-Span-1088" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.75em, 4.157em, -999.997em); top: -3.651em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1089"><span class="mrow" id="MathJax-Span-1090"><span class="mn" id="MathJax-Span-1091" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-1092" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-92">A_{2b}^{1R}</script></tex-math></inline-formula> offers most of the performance benefit with little additional hardware. This configuration increases chip area to only 1.68<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-93-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1093" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-1094"><span class="mo" id="MathJax-Span-1095" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-93">\times</script></tex-math></inline-formula> and power to only 2.54<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-94-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1096" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-1097"><span class="mo" id="MathJax-Span-1098" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-94">\times</script></tex-math></inline-formula> over <i>DaDN</i>.</p><p><a ref-type="table" anchor="table5" class="fulltext-link">Table 5</a> shows the area and power breakdown of this configuration. Since we do not layout a full chip design we estimated the interconnect cost separately. We assume the interconnect will be routed over the existing logic and does not increase chip area. An interconnect width of 4 bits per activation was chosen to balance performance and power. This configuration yields performance within 1.2% of the ideal (infinite bandwidth), while consuming 6% of the chip power.</p></div></div><div class="section_2" id="sec6d"><h3>6.4 Improved Oneffset Encoding</h3><p class="has-inline-formula"><a ref-type="fig" anchor="fig11" class="fulltext-link">Figure 11</a> reports performance for <i>PRA</i> when using the improved off-set encoding (IOE) described in <a ref-type="sec" anchor="sec5" class="fulltext-link">Section 5</a>.6. The considered configurations include <i>PRA<sub>0b</sub></i>, <i>PRA<sub>1b</sub></i> and <i>PRA<sub>2b</sub></i> (with pallet synchronization), and <i>PR</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-95-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1099" style="width: 1.904em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.7em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-1100"><span class="msubsup" id="MathJax-Span-1101"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-1102" style="font-family: MathJax_Math-italic;">A</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.95em, 4.157em, -999.997em); top: -4.352em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1103"><span class="mrow" id="MathJax-Span-1104"><span class="mn" id="MathJax-Span-1105" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mi" id="MathJax-Span-1106" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.75em, 4.157em, -999.997em); top: -3.651em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1107"><span class="mrow" id="MathJax-Span-1108"><span class="mn" id="MathJax-Span-1109" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-1110" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-95">A_{2b}^{1R}</script></tex-math></inline-formula>.<i>PRA<sub>0b</sub></i> degrades performance by 7%, but the other configurations show improvements of 26%, 48%, and 41% respectively. A cause of degradation for <i>PRA<sub>0b</sub></i> is the increased spread of oneffset values (for example, the pair of activations 011101, 010101 takes 4 cycles with conventional encoding and 5 with enhanced encoding even though the total count of oneffsets is reduced from 7 to 6). On average and with the best configuration, this encoding improves speedup to 4. 31x over <i>DaDN</i>.</p></div><div class="section_2" id="sec6e"><h3>6.5 Energy Efficiency</h3><p class="has-inline-formula"><a ref-type="fig" anchor="fig12" class="fulltext-link">Figure 12</a> shows the energy efficiency of various <i>Pragmatic</i> configurations. <i>Energy Efficiency</i>, or simply <i>efficiency</i> for a system NEW relative to BASE is defined as the ratio <i>E<sub>BASE</sub></i>/<i>E<sub>NEW</sub></i> of the energy required by BASE to compute all of the convolution layers over that of NEW. The power overhead of <i><i>PRA<sub>single</sub></i></i>(<i>PRA<sub>4b</sub></i>) is more than the speedup resulting in a circuit that is 23% less efficient than <i>DaDN. PR</i> A<sub>2b</sub> reduces that power overhead while maintaining performance yielding an efficiency of 3%. <i>PR</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-96-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1111" style="width: 1.904em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.7em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-1112"><span class="msubsup" id="MathJax-Span-1113"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-1114" style="font-family: MathJax_Math-italic;">A</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.95em, 4.157em, -999.997em); top: -4.352em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1115"><span class="mrow" id="MathJax-Span-1116"><span class="mn" id="MathJax-Span-1117" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mi" id="MathJax-Span-1118" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.75em, 4.157em, -999.997em); top: -3.651em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1119"><span class="mrow" id="MathJax-Span-1120"><span class="mn" id="MathJax-Span-1121" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-1122" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-96">A_{2b}^{1R}</script></tex-math></inline-formula> boosts performance with little hardware cost, increasing efficiency to 21%.
</p><div class="figure figure-full" id="fig12"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber12-p382-albericio-large.gif" data-fig-id="fig12"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber12-p382-albericio-small.gif" loading="lazy" alt="Figure 12: - Relative energy efficiency"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 12: </b><fig><p>Relative energy efficiency</p></fig></div><p class="links"><a ref-type="fig-link" data-docid="8686550" class="all">Show All</a></p></div>
<div class="figure figure-full table" id="table6"><div class="figcaption"><b class="title">Table VI </b>: Tile Configuration: Performance Relative To Dadn</div><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t6-p382-albericio-large.gif"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t6-p382-albericio-small.gif" loading="lazy" alt="Table VI- : Tile Configuration: Performance Relative To Dadn"><div class="zoom" title="View Larger Image"></div></a></div></div><p></p><p class="has-inline-formula">Finally, using IOE increases efficiency to 1.70<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-97-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1123" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-1124"><span class="mo" id="MathJax-Span-1125" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-97">\times</script></tex-math></inline-formula> over <i>DaDN</i>, an improvement of 7. 2x and 31x in <i>EDP</i> <a ref-type="bibr" anchor="ref10" id="context_ref_10_6e" data-range="ref10">[10]</a> and <i>E</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-98-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1126" style="width: 1.404em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.254em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.25em, 2.305em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-1127"><span class="msubsup" id="MathJax-Span-1128"><span style="display: inline-block; position: relative; width: 1.254em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.8em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-1129" style="font-family: MathJax_Math-italic;">D</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.352em; left: 0.853em;"><span class="texatom" id="MathJax-Span-1130"><span class="mrow" id="MathJax-Span-1131"><span class="mn" id="MathJax-Span-1132" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 1.058em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-98">D^{2}</script></tex-math></inline-formula><i>P</i> <a ref-type="bibr" anchor="ref21" id="context_ref_21_6e" data-range="ref21">[21]</a> respectively.</p></div><div class="section_2" id="sec6f"><h3>6.6 Sensitivity to Tile Configuration</h3><p class="has-inline-formula"><a ref-type="table" anchor="table6" class="fulltext-link">Table 6</a> reports performance of <i>PR</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-99-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1133" style="width: 1.904em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.7em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-1134"><span class="msubsup" id="MathJax-Span-1135"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-1136" style="font-family: MathJax_Math-italic;">A</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.95em, 4.157em, -999.997em); top: -4.352em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1137"><span class="mrow" id="MathJax-Span-1138"><span class="mn" id="MathJax-Span-1139" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mi" id="MathJax-Span-1140" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.75em, 4.157em, -999.997em); top: -3.651em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1141"><span class="mrow" id="MathJax-Span-1142"><span class="mn" id="MathJax-Span-1143" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-1144" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-99">A_{2b}^{1R}</script></tex-math></inline-formula> over an equivalent <i>DaDN</i> for various <i>Tiles-Filters/Tile-Terms/Filter</i> configurations. The configuration studied thus far was <i>16-16-16</i>. Reducing the number of tiles does not change the relative performance improvement with <i>PRA</i>. Decreasing the number of terms per filter, however, greatly impacts relative performance. At the extreme, where only one term per filter is processed, <i>PRA</i> is almost 8<inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-100-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1145" style="width: 0.903em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.554em, 1000.65em, 2.355em, -999.997em); top: -2.2em; left: 0em;"><span class="mrow" id="MathJax-Span-1146"><span class="mo" id="MathJax-Span-1147" style="font-family: MathJax_Main;">×</span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.053em; border-left: 0px solid; width: 0px; height: 0.669em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-100">\times</script></tex-math></inline-formula> faster than <i>DaDN</i>. This result demonstrates that most of the performance potential loss is due to imbalance across activation lanes.</p></div><div class="section_2" id="sec6g"><h3>6.7 8-bit Quantization</h3><p class="has-inline-formula"><a ref-type="table" anchor="table7" class="fulltext-link">Table 7</a> reports performance for <i>DaDN, STR</i>, and <i>PRA</i> configurations using the 8-bit quantized representation used in Tensorflow <a ref-type="bibr" anchor="ref11" id="context_ref_11_6g" data-range="ref11">[11]</a>, <a ref-type="bibr" anchor="ref29" id="context_ref_29_6g" data-range="ref29">[29]</a>. This quantization uses 8 bits to specify arbitrary minimum and maximum limits per layer for the activations and the weights separately, and maps the 256 available 8-bit values linearly into the resulting interval.
</p><div class="figure figure-full table" id="table7"><div class="figcaption"><b class="title">Table VII </b>: Area [<span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-101-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1148" style="width: 2.807em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.225em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.272em, 1002.23em, 2.437em, -999.997em); top: -2.272em; left: 0em;"><span class="mrow" id="MathJax-Span-1149"><span class="mi" id="MathJax-Span-1150" style="font-family: MathJax_Math-italic;">m</span><span class="msubsup" id="MathJax-Span-1151"><span style="display: inline-block; position: relative; width: 1.325em; height: 0px;"><span style="position: absolute; clip: rect(3.442em, 1000.85em, 4.183em, -999.997em); top: -4.019em; left: 0em;"><span class="mi" id="MathJax-Span-1152" style="font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span><span style="position: absolute; top: -4.389em; left: 0.902em;"><span class="texatom" id="MathJax-Span-1153"><span class="mrow" id="MathJax-Span-1154"><span class="mn" id="MathJax-Span-1155" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.024em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.278em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.063em; border-left: 0px solid; width: 0px; height: 1.203em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-101">mm^{2}</script>], Power [W], Speedup and Efficiency For 8-Bit Variants the Three Designs.</div><div class="img-wrap"><a href="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t7-p382-albericio-large.gif"><img class="document-ft-image" src="/mediastore/IEEE/content/media/8681290/8686488/8686550/alber.t7-p382-albericio-small.gif" loading="lazy" alt="Table VII- : Area [$mm^{2}$], Power [W], Speedup and Efficiency For 8-Bit Variants the Three Designs."><div class="zoom" title="View Larger Image"></div></a></div></div><p></p><p class="has-inline-formula"><a ref-type="table" anchor="table7" class="fulltext-link">Table 7</a> reports energy efficiency relative to <i>DaDN</i> for 8-bit versions of <i>STR</i> and <i>PR</i><inline-formula class="inline-formula"><tex-math notation="LaTeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-102-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1156" style="width: 1.904em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.154em, 1001.7em, 2.655em, -999.997em); top: -2.15em; left: 0em;"><span class="mrow" id="MathJax-Span-1157"><span class="msubsup" id="MathJax-Span-1158"><span style="display: inline-block; position: relative; width: 1.704em; height: 0px;"><span style="position: absolute; clip: rect(3.156em, 1000.75em, 4.157em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-1159" style="font-family: MathJax_Math-italic;">A</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.95em, 4.157em, -999.997em); top: -4.352em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1160"><span class="mrow" id="MathJax-Span-1161"><span class="mn" id="MathJax-Span-1162" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mi" id="MathJax-Span-1163" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1000.75em, 4.157em, -999.997em); top: -3.651em; left: 0.753em;"><span class="texatom" id="MathJax-Span-1164"><span class="mrow" id="MathJax-Span-1165"><span class="mn" id="MathJax-Span-1166" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-1167" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.155em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.442em; border-left: 0px solid; width: 0px; height: 1.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-102">A_{2b}^{1R}</script></tex-math></inline-formula> with IOE. In these designs, both activations and weights are 8 bits. For <i>STR</i> and <i>PRA</i>, we reduce the number of SIP/PIP columns to 8 to match <i>DaDN</i>’s throughput in the worst case. <i>STR</i> yields no speedup since we did not profile reducing the precision on top of the 8-bit quantization. As a result it is less energy efficient than <i>DaDN. PRA’s</i> speedup is 2. 25x with an area overhead of 1.31x and a power overhead ofl. 71x, making it 1. 31x more energy efficient on average.</p></div></div>
<div class="section" id="sec7"><div class="header article-hdr"><div class="kicker">
                                SECTION 7</div><h2>Related Work</h2></div><p>The acceleration of Deep Learning is an active area of research and has yielded numerous proposals for hardware acceleration. Due to limited space this section comments only on works that exploit the various levels of <i>informational inefficiency</i> in DNNs.</p><p>At the value level it has been observed that many activations and weights are ineffectual. Han <i>et al</i>.,retrain fully-connected layers to eliminate ineffectual weights and eliminate computations with zero valued activations and ineffectual weights <a ref-type="bibr" anchor="ref12" id="context_ref_12_7" data-range="ref12">[12]</a>, <a ref-type="bibr" anchor="ref13" id="context_ref_13_7" data-range="ref13">[13]</a>. Albericio <i>et al</i>., exploit zero and near zero activations to improve performance for a <i>DaDN</i>-like accelerator <a ref-type="bibr" anchor="ref2" id="context_ref_2_7" data-range="ref2">[2]</a>. SCNN eliminates both ineffectual weights and activations <a ref-type="bibr" anchor="ref24" id="context_ref_24_7" data-range="ref24">[24]</a>. Ineffectual activations and weights have also been exploited to reduce power <a ref-type="bibr" anchor="ref6" id="context_ref_6_7" data-range="ref6">[6]</a>, <a ref-type="bibr" anchor="ref26" id="context_ref_26_7" data-range="ref26">[26]</a> The occurrence of ineffectual activations appears to be an intrinsic property of CNNs as their neurons are designed to detect the presence of relevant features in their input <a ref-type="bibr" anchor="ref2" id="context_ref_2_7" data-range="ref2">[2]</a>. This is amplified by the popularity of the ReLU activation function <a ref-type="bibr" anchor="ref23" id="context_ref_23_7" data-range="ref23">[23]</a>.</p><p>informational inefficiency manifests also in excess of precision. <i>Stripes</i> exploits the varying per layer precision requirements of CNNs <a ref-type="bibr" anchor="ref18" id="context_ref_18_7" data-range="ref18">[18]</a> whereas Quantization uses a uniform reduced precision <a ref-type="bibr" anchor="ref29" id="context_ref_29_7" data-range="ref29">[29]</a>. Profiling has been used to determine appropriate hard-wired precisions <a ref-type="bibr" anchor="ref20" id="context_ref_20_7" data-range="ref20">[20]</a>. At the extreme end of the spectrum are binarized <a ref-type="bibr" anchor="ref7" id="context_ref_7_7" data-range="ref7">[7]</a>, and ternary networks, e.g., <a ref-type="bibr" anchor="ref3" id="context_ref_3_7" data-range="ref3">[3]</a>. By redesigning the network or by using binary or ternary weights they indirectly exploit weight precision requirements. Where such networks are possible, they are preferable due to their reduced area, power, and complexity. However, accuracy with these tends to suffer and they often require redesigning the network.</p><p>Other works show that it is possible to achieve the same accuracy for a given task with networks that are orders of magnitude smaller than the originally proposed for such task <a ref-type="bibr" anchor="ref15" id="context_ref_15_7" data-range="ref15">[15]</a> suggesting that networks are often over-provisioned.</p><p>This work exposes informational inefficiency at the bit level, which subsumes both ineffectual activation values and excess of precision. <a ref-type="sec" anchor="sec2" class="fulltext-link">Section 2</a> shows that significant potential exists for exploiting the informational ineffciency at the bit-level even if zero activations are eliminated or even with 8-bit quantization. Exploiting weight sparsity with <i>Pragmatic</i> would require decoupling the synapse lanes vertically. The synapse lanes across the same row can remain in sync as they all use the same weight. However, the complexity and overhead of such a design needs to be evaluated and is left for future work.</p><p>In all, the aforementioned body of work suggests that existing networks exhibit informational inefficiency at various levels and for various reasons. Whether these inefficiencies are best exploited statically, dynamically, or both is an open question. Furthermore, which forms of inefficiency will persist as networks evolve remains to be seen. Ideally, network designers would like to be able to identify which parts of a network perform which classification subtask. This would favour over-provisioning suggesting that informational inefficiency is desirable. The experience so far has been that designing networks is a difficult task and thus adding another level of complexity to exploit inefficiency by static means may be undesirable favouring dynamic solutions such as <i>Pragmatic</i> that work with out-of-the-box networks.</p></div>
<div class="section" id="sec8"><div class="header article-hdr"><div class="kicker">
                                SECTION 8</div><h2>Conclusion</h2></div><p>To the best of our knowledge <i>Pragmatic</i> is the first CNN accelerator that exploits not only the per layer precision requirements of CNNs but also the essential bit information content of the activation values. Future work may combine <i>Pragmatic</i> with sparse network accelerators, investigate alternate activation encoding that reduce bit density, or target improved synchronizations mechanisms.</p></div>
<h3>ACKNOWLEDGEMENTS</h3><p>This work was performed while Jorge Albericio was at the University of Toronto and was supported by an NSERC Discovery Grant and an NSERC Discovery Accelerator Supplement.</p></div>
